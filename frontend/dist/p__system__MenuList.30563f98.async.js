(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1149],{52703:function(Sa,Pe,s){"use strict";s.r(Pe),s.d(Pe,{default:function(){return ma}});var Fa=s(57663),ne=s(71577),We=s(86582),xa=s(47673),I=s(4107),t=s(39428),ja=s(34792),E=s(48086),C=s(3182),p=s(2824),Ge=s(51042),h=s(67294),He=s(52897),wa=s(71194),he=s(50146),ba=s(77883),Re=s(85986),Da=s(88983),re=s(47933),Ea=s(9715),O=s(55843),Ta=s(43358),se=s(34041),e=s(85893),Je=se.Z.Option,q=O.Z.Item,Qe=function(a){var F=O.Z.useForm(),n=(0,p.Z)(F,1),f=n[0],Y=a.modalVisible,ee=a.onSubmit,U=a.onCancel,A=a.menuData,K=(0,h.useState)(0),R=(0,p.Z)(K,2),N=R[0],o=R[1],x=function(){var Z=(0,C.Z)((0,t.Z)().mark(function g(){var G,M;return(0,t.Z)().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,f.validateFields();case 2:G=$.sent,f.resetFields(),M={route:!0,permsType:1,status:1,keepAlive:!1},ee(Object.assign(G,M));case 6:case"end":return $.stop()}},g)}));return function(){return Z.apply(this,arguments)}}(),L=A==null?void 0:A.map(function(Z){return{id:Z==null?void 0:Z.id,title:Z==null?void 0:Z.name}}),W=function(g){o(g.target.value)};return(0,e.jsx)(he.Z,{destroyOnClose:!0,title:"\u65B0\u5EFA",visible:Y,onOk:x,onCancel:function(){return U()},children:(0,e.jsxs)(O.Z,{form:f,initialValues:{menuType:0},children:[(0,e.jsx)(q,{labelCol:{span:5},wrapperCol:{span:15},label:"\u83DC\u5355\u7C7B\u578B",name:"menuType",rules:[{required:!0}],children:(0,e.jsxs)(re.ZP.Group,{onChange:W,children:[(0,e.jsx)(re.ZP,{value:0,children:" \u4E00\u7EA7\u83DC\u5355"}),(0,e.jsx)(re.ZP,{value:1,children:" \u5B50\u7EA7\u83DC\u5355"})]})}),N===0?null:(0,e.jsx)(q,{labelCol:{span:5},wrapperCol:{span:15},label:"\u7236\u7EA7\u83DC\u5355\u540D\u79F0:",name:"parentId",children:(0,e.jsx)(se.Z,{allowClear:!0,children:L==null?void 0:L.map(function(Z){return(0,e.jsx)(Je,{value:Z.id,children:Z.title})})})}),(0,e.jsx)(q,{labelCol:{span:5},wrapperCol:{span:15},label:"\u83DC\u5355\u540D\u79F0",name:"name",rules:[{required:!0}],children:(0,e.jsx)(I.Z,{})}),"\u2003 \u2003 \u2003\u2003 \u2003\u2003\u5FC5\u987B\u4EE5\u201C/\u201D\u5F00\u5934,\u5982\uFF1A/xxx",(0,e.jsx)(q,{labelCol:{span:5},wrapperCol:{span:15},label:"\u83DC\u5355\u8DEF\u5F84",name:"url",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\uFF01"}],children:(0,e.jsx)(I.Z,{})}),"\u2003 \u2003 \u2003\u2003 \u2003\u2003\u5982\uFF1A./xxx/xxx/xxx",(0,e.jsx)(q,{labelCol:{span:5},wrapperCol:{span:15},label:"\u524D\u7AEF\u7EC4\u4EF6",name:"component",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\uFF01"}],children:(0,e.jsx)(I.Z,{})}),(0,e.jsx)(q,{labelCol:{span:5},wrapperCol:{span:15},label:"\u83DC\u5355\u6392\u5E8F",name:"sortNo",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\uFF01"}],children:(0,e.jsx)(Re.Z,{min:0,placeholder:"\u8BF7\u8F93\u5165"})}),(0,e.jsx)(q,{labelCol:{span:5},wrapperCol:{span:15},name:"icon",label:"\u83DC\u5355\u56FE\u6807",children:(0,e.jsx)(I.Z,{placeholder:"\u8BF7\u8F93\u5165"})})]})})},Xe=Qe,T=s(11849),qe=se.Z.Option,_=O.Z.Item,_e=function(a){var F=(0,h.useState)(a.values),n=(0,p.Z)(F,2),f=n[0],Y=n[1],ee=O.Z.useForm(),U=(0,p.Z)(ee,1),A=U[0],K=(0,h.useState)(0),R=(0,p.Z)(K,2),N=R[0],o=R[1],x=a.menuData;console.log("menuData"),console.log(x);var L=a.onSubmit,W=a.onCancel,Z=a.updateModalVisible,g=a.values,G=function(){var v=(0,C.Z)((0,t.Z)().mark(function y(){var S,J;return(0,t.Z)().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,A.validateFields();case 2:S=z.sent,Y((0,T.Z)((0,T.Z)({},f),S)),J={},console.log((0,T.Z)((0,T.Z)({},f),S)),L((0,T.Z)((0,T.Z)({},f),S));case 7:case"end":return z.stop()}},y)}));return function(){return v.apply(this,arguments)}}(),M=x==null?void 0:x.map(function(v){return{id:v==null?void 0:v.id,title:v==null?void 0:v.name}});x==null||x.map(function(v){var y;return v==null||(y=v.children)===null||y===void 0?void 0:y.map(function(S){return M==null?void 0:M.push({id:S==null?void 0:S.id,title:"".concat(v==null?void 0:v.name,"/").concat(S==null?void 0:S.name)})})});var H=function(y){o(y)},$=function(){return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(O.Z,{initialValues:{menuType:g.menuType,name:g.name,url:g.url,component:g.component,sortNo:g.sortNo,icon:g.icon},form:A,children:[(0,e.jsx)(_,{labelCol:{span:5},wrapperCol:{span:15},label:"\u83DC\u5355\u7C7B\u578B",name:"menuType",rules:[{required:!0}],children:(0,e.jsxs)(re.ZP.Group,{onChange:H,children:[(0,e.jsx)(re.ZP,{value:1,children:" \u4E00\u7EA7\u83DC\u5355"}),(0,e.jsx)(re.ZP,{value:2,children:" \u5B50\u83DC\u5355"})]})}),N===0?null:(0,e.jsx)(_,{labelCol:{span:5},wrapperCol:{span:15},label:"\u7236\u7EA7\u83DC\u5355\u540D\u79F0:",name:"parentId",children:(0,e.jsx)(se.Z,{allowClear:!0,children:M==null?void 0:M.map(function(y){return(0,e.jsx)(qe,{value:y.id,children:y.title})})})}),(0,e.jsx)(_,{labelCol:{span:5},wrapperCol:{span:15},label:"\u83DC\u5355\u540D\u79F0",name:"name",rules:[{required:!0}],children:(0,e.jsx)(I.Z,{placeholder:"\u8BF7\u8F93\u5165"})}),"\u2003 \u2003 \u2003\u2003 \u2003\u2003\u5FC5\u987B\u4EE5\u201C/\u201D\u5F00\u5934,\u5982\uFF1A/xxx",(0,e.jsx)(_,{labelCol:{span:5},wrapperCol:{span:15},label:"\u83DC\u5355\u8DEF\u5F84",name:"url",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\uFF01"}],children:(0,e.jsx)(I.Z,{placeholder:"\u8BF7\u8F93\u5165"})}),"\u2003 \u2003 \u2003\u2003 \u2003\u2003\u5982\uFF1A./xxx/xxx/xxx",(0,e.jsx)(_,{labelCol:{span:5},wrapperCol:{span:15},label:"\u524D\u7AEF\u7EC4\u4EF6",name:"component",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\uFF01"}],children:(0,e.jsx)(I.Z,{placeholder:"\u8BF7\u8F93\u5165"})}),(0,e.jsx)(_,{labelCol:{span:5},wrapperCol:{span:15},label:"\u83DC\u5355\u6392\u5E8F",name:"sortNo",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\uFF01"}],children:(0,e.jsx)(Re.Z,{min:0,placeholder:"\u8BF7\u8F93\u5165"})}),(0,e.jsx)(_,{labelCol:{span:5},wrapperCol:{span:15},name:"icon",label:"\u83DC\u5355\u56FE\u6807",children:(0,e.jsx)(I.Z,{placeholder:"\u8BF7\u8F93\u5165"})})]})})},te=function(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ne.Z,{onClick:function(){return W(!1,g)},children:"\u53D6\u6D88"}),(0,e.jsx)(ne.Z,{type:"primary",onClick:function(){return G()},children:"\u5B8C\u6210"})]})};return(0,e.jsx)(he.Z,{width:640,bodyStyle:{padding:"32px 40px 48px"},destroyOnClose:!0,title:"\u7F16\u8F91",visible:Z,footer:te(),onCancel:function(){return W()},children:$()})},ea=_e,Va=s(14965),aa=s(91774),Ba=s(35556),na=s(75899),Aa=se.Z.Option,le=O.Z.Item,Ma=na.Z.Step,ra={labelCol:{span:7},wrapperCol:{span:13}},la=function(a){var F=(0,h.useState)({id:a.values.id,username:a.values.username,realname:a.values.realname,orgCode:a.values.orgCode,phone:a.values.phone,email:a.values.email,password:a.values.password}),n=(0,p.Z)(F,2),f=n[0],Y=n[1],ee=O.Z.useForm(),U=(0,p.Z)(ee,1),A=U[0],K=a.onSubmit,R=a.onCancel,N=a.detailModalVisible,o=a.values,x=a.queryRole;console.log("8888",x);var L=function(){var D=(0,C.Z)((0,t.Z)().mark(function j(){var Q;return(0,t.Z)().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,A.validateFields();case 2:Q=P.sent,Y((0,T.Z)((0,T.Z)({},f),Q)),K((0,T.Z)((0,T.Z)({},f),Q));case 5:case"end":return P.stop()}},j)}));return function(){return D.apply(this,arguments)}}(),W=aa.Z.RangePicker,Z="YYYY/MM/DD",g=(0,h.useState)(!1),G=(0,p.Z)(g,2),M=G[0],H=G[1],$=function(){H(!0);var j=function(){var Q=(0,C.Z)((0,t.Z)().mark(function pe(P){return(0,t.Z)().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,userRoleList(P);case 2:return V.t0=V.sent.result.records,V.abrupt("return",{data:V.t0,success:!0});case 4:case"end":return V.stop()}},pe)}));return function(P){return Q.apply(this,arguments)}}()},te=function(){H(!1)},v=function(){H(!1)},y=(0,h.useState)(["0-0-0","0-0-1"]),S=(0,p.Z)(y,2),J=S[0],ie=S[1],z=(0,h.useState)(["0-0-0"]),oe=(0,p.Z)(z,2),fa=oe[0],Ie=oe[1],xe=(0,h.useState)([]),de=(0,p.Z)(xe,2),ve=de[0],Oe=de[1],je=(0,h.useState)(!0),ce=(0,p.Z)(je,2),Ue=ce[0],we=ce[1],Ne=function(j){console.log("onExpand",j),ie(j),we(!1)},be=function(j){console.log("onCheck",j),Ie(j)},Ca=function(j,Q){console.log("onSelect",Q),Oe(j)},De=function(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(le,{name:"username",label:"\u7528\u6237\u8D26\u53F7",rules:[{message:"\u8BF7\u8F93\u5165\u7528\u6237\u8D26\u53F7\uFF01"}],labelCol:{span:5},wrapperCol:{span:15},children:o==null?void 0:o.username}),(0,e.jsx)(le,{name:"realname",label:"\u7528\u6237\u540D\u5B57",rules:[{message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D\u5B57\uFF01"}],labelCol:{span:5},wrapperCol:{span:15},children:o==null?void 0:o.realname}),(0,e.jsx)(le,{name:"selectedroles",label:"\u89D2\u8272",rules:[{message:"\u8BF7\u8F93\u5165\u89D2\u8272\uFF01"}],labelCol:{span:5},wrapperCol:{span:15},children:x}),(0,e.jsx)(le,{name:"sex",label:"\u6027\u522B",rules:[{message:"\u8BF7\u8F93\u5165\u90E8\u95E8\uFF01"}],labelCol:{span:5},wrapperCol:{span:15},children:(o==null?void 0:o.sex)==1?"\u7537":(o==null?void 0:o.sex)==2?"\u5973":"--"}),(0,e.jsx)(le,{name:"phone",label:"\u7535\u8BDD",rules:[{required:!1,message:"\u8BF7\u8F93\u5165\u7535\u8BDD\uFF01"}],labelCol:{span:5},wrapperCol:{span:15},children:(o==null?void 0:o.phone)==null?"--":o==null?void 0:o.phone}),(0,e.jsx)(le,{name:"email",label:"\u90AE\u7BB1",rules:[{required:!1,message:"\u8BF7\u8F93\u5165\u90AE\u7BB1\uFF01"}],labelCol:{span:5},wrapperCol:{span:15},children:(o==null?void 0:o.email)==null?"--":o==null?void 0:o.email})]})},Ee=function(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ne.Z,{onClick:function(){return R(!1,o)},children:"\u53D6\u6D88"}),(0,e.jsx)(ne.Z,{type:"primary",onClick:function(){return L()},children:"\u5B8C\u6210"})]})};return(0,e.jsx)(he.Z,{width:640,bodyStyle:{padding:"32px 40px 48px"},destroyOnClose:!0,title:"\u7528\u6237\u8BE6\u60C5",open:N,footer:Ee(),onCancel:function(){return R()},children:(0,e.jsx)(O.Z,(0,T.Z)((0,T.Z)({},ra),{},{form:A,initialValues:{id:f.id,username:f.username,realname:f.realname,orgCode:f.orgCode,phone:f.phone,email:f.email,password:f.password},children:De()}))})},ua=la,ue=s(21010);function ke(c){return me.apply(this,arguments)}function me(){return me=(0,C.Z)((0,t.Z)().mark(function c(a){return(0,t.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,ue.WY)("/phm-web-service-gz/sys/permission/list",{method:"POST",data:a}));case 1:case"end":return n.stop()}},c)})),me.apply(this,arguments)}function ta(c){return fe.apply(this,arguments)}function fe(){return fe=(0,C.Z)((0,t.Z)().mark(function c(a){return(0,t.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,ue.WY)("/phm-web-service-gz/sys/permission/list",{method:"POST",data:a}));case 1:case"end":return n.stop()}},c)})),fe.apply(this,arguments)}function sa(c){return Ce.apply(this,arguments)}function Ce(){return Ce=(0,C.Z)((0,t.Z)().mark(function c(a){return(0,t.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,ue.WY)("/phm-web-service-gz/sys/permission/add",{method:"POST",data:a}));case 1:case"end":return n.stop()}},c)})),Ce.apply(this,arguments)}function ia(c){return Ze.apply(this,arguments)}function Ze(){return Ze=(0,C.Z)((0,t.Z)().mark(function c(a){return(0,t.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,ue.WY)("/phm-web-service-gz/sys/permission/delete",{method:"DELETE",params:a}));case 1:case"end":return n.stop()}},c)})),Ze.apply(this,arguments)}function oa(c){return ge.apply(this,arguments)}function ge(){return ge=(0,C.Z)((0,t.Z)().mark(function c(a){return(0,t.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,ue.WY)("/phm-web-service-gz/sys/permission/deleteBatch",{method:"DELETE",params:a}));case 1:case"end":return n.stop()}},c)})),ge.apply(this,arguments)}function da(c){return ye.apply(this,arguments)}function ye(){return ye=(0,C.Z)((0,t.Z)().mark(function c(a){return(0,t.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,ue.WY)("/phm-web-service-gz/sys/permission/edit",{method:"PUT",data:a}));case 1:case"end":return n.stop()}},c)})),ye.apply(this,arguments)}function $a(c){return Se.apply(this,arguments)}function Se(){return Se=_asyncToGenerator(_regeneratorRuntime().mark(function c(a){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/phm-web-service-gz/sys/add",{method:"POST",data:{id:a.id,username:a.username,realname:a.realname,phone:a.phone,email:a.email,password:a.password,sex:a.sex,selectedroles:a.selectedroles}}));case 1:case"end":return n.stop()}},c)})),Se.apply(this,arguments)}function Pa(c){return Fe.apply(this,arguments)}function Fe(){return Fe=_asyncToGenerator(_regeneratorRuntime().mark(function c(a){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/phm-web-service-gz/sys/delete",{method:"DELETE",params:a}));case 1:case"end":return n.stop()}},c)})),Fe.apply(this,arguments)}var ca=s(53667),pa=s.n(ca),va=s(61128),ha=function(){var a=(0,h.useState)(""),F=(0,p.Z)(a,1),n=F[0],f=(0,h.useState)(!1),Y=(0,p.Z)(f,2),ee=Y[0],U=Y[1],A=(0,h.useState)(!1),K=(0,p.Z)(A,2),R=K[0],N=K[1],o=(0,h.useState)(!1),x=(0,p.Z)(o,2),L=x[0],W=x[1],Z=(0,h.useState)(!1),g=(0,p.Z)(Z,2),G=g[0],M=g[1],H=(0,h.useState)({}),$=(0,p.Z)(H,2),te=$[0],v=$[1],y=(0,h.useState)({}),S=(0,p.Z)(y,2),J=S[0],ie=S[1],z=(0,h.useState)([]),oe=(0,p.Z)(z,2),fa=oe[0],Ie=oe[1],xe=(0,h.useState)({}),de=(0,p.Z)(xe,2),ve=de[0],Oe=de[1],je=(0,h.useState)(null),ce=(0,p.Z)(je,2),Ue=ce[0],we=ce[1],Ne=(0,h.useState)(!1),be=(0,p.Z)(Ne,2),Ca=be[0],De=be[1],Ee=(0,h.useState)(1),D=(0,p.Z)(Ee,2),j=D[0],Q=D[1],pe=(0,h.useState)([]),P=(0,p.Z)(pe,2),k=P[0],V=P[1],Za=function(){var m=(0,C.Z)((0,t.Z)().mark(function i(u){var d;return(0,t.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return d=E.default.loading("\u6B63\u5728\u914D\u7F6E"),console.log("111",u),l.prev=2,d(),E.default.success("\u914D\u7F6E\u6210\u529F"),l.abrupt("return",!0);case 8:return l.prev=8,l.t0=l.catch(2),d(),E.default.error("\u914D\u7F6E\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),l.abrupt("return",!1);case 13:case"end":return l.stop()}},i,null,[[2,8]])}));return function(u){return m.apply(this,arguments)}}(),ae=(0,h.useRef)(),ga=[{title:"\u83DC\u5355\u540D\u79F0",dataIndex:"name",valueType:"textarea"},{title:"\u83DC\u5355\u7C7B\u578B",dataIndex:"menuType",valueType:"textarea",hideInSearch:!0,valueEnum:{1:"\u4E00\u7EA7\u83DC\u5355",2:"\u5B50\u83DC\u5355"},render:function(i,u){return u.menuType==1?"\u4E00\u7EA7\u83DC\u5355":u.menuType==2?"\u5B50\u83DC\u5355":null}},{title:"\u56FE\u6807",dataIndex:"icon",valueType:"textarea",hideInSearch:!0},{title:"\u7EC4\u4EF6",dataIndex:"component",valueType:"textarea",hideInSearch:!0},{title:"\u8DEF\u5F84",dataIndex:"url",valueType:"textarea",hideInSearch:!0},{title:"\u83DC\u5355\u6392\u5E8F",dataIndex:"sortNo",valueType:"textarea",hideInSearch:!0},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",align:"center",render:function(i,u){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("a",{onClick:(0,C.Z)((0,t.Z)().mark(function d(){return(0,t.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:console.log("record"),console.log(u),v(u),N(!0);case 4:case"end":return l.stop()}},d)})),children:"\u7F16\u8F91"}),"\xA0",(0,e.jsx)("span",{children:"|"}),"\xA0",(0,e.jsx)("a",{onClick:function(){console.log(u);var r=E.default.loading("\u6B63\u5728\u5220\u9664");try{var l;return ia({id:u.id}),r(),E.default.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"),(l=ae.current)===null||l===void 0||l.reload(),!0}catch(B){return console.log("error"),console.log(B),r(),E.default.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),!1}},children:"\u5220\u9664"})]})}}],Ra=function(){var i=E.default.loading("\u6B63\u5728\u5220\u9664");try{var u,d,r=oa({ids:Ue});return(u=ae.current)===null||u===void 0||(d=u.reloadAndRest)===null||d===void 0||d.call(u),i(),E.default.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"),(r==null?void 0:r.code)==200&&location.reload(),!0}catch(l){return i(),E.default.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),!1}},ka=function(i){we(i.toString()),De(!0)},Ia=function(i,u){var d=ke({pageNo:i,pageSize:u});d.then(function(r){V(r)})},Oa=I.Z.Search,Ua=function(i){var u=ke({name:i,pageNo:j,pageSize});u.then(function(d){V(d)})},ya=function(){var m=(0,C.Z)((0,t.Z)().mark(function i(u){var d,r,l,B,w,b,Le,X,Te,Ve,ze,Be,Ae,Me,Ye,Ke;return(0,t.Z)().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:if(console.log("selectedRows"),console.log(u),d=new Set(u),r=(0,We.Z)(d),l={},B=[],w=["\u4E00\u7EA7\u83DC\u5355","\u4E8C\u7EA7\u83DC\u5355","\u4E09\u7EA7\u83DC\u5355","\u8DEF\u5F84"],console.log("data"),console.log(r),r){for(b in r)if(r&&(Le={\u4E00\u7EA7\u83DC\u5355:r[b].name,\u8DEF\u5F84:"http://192.168.31.120:8086".concat(r[b].url)},B.push(Le),r[b].children!=null)){for(X in r[b].children)if(ze={\u4E00\u7EA7\u83DC\u5355:r[b].name,\u4E8C\u7EA7\u83DC\u5355:r[b].children[X].name,\u8DEF\u5F84:"http://192.168.31.120:8086".concat(r[b].children[X].url)},B.push(ze),((Te=r[b])===null||Te===void 0||(Ve=Te.children[X])===null||Ve===void 0?void 0:Ve.children)!=null)for(Be in(Ae=r[b])===null||Ae===void 0||(Me=Ae.children[X])===null||Me===void 0?void 0:Me.children)Ye={\u4E00\u7EA7\u83DC\u5355:r[b].name,\u4E8C\u7EA7\u83DC\u5355:r[b].children[X].name,\u4E09\u7EA7\u83DC\u5355:r[b].children[X].children[Be].name,\u8DEF\u5F84:"http://192.168.31.120:8086".concat(r[b].children[X].children[Be].url)},B.push(Ye)}}l.fileName="\u5206\u6790\u7CFB\u7EDF\u83DC\u5355\u4FE1\u606F",l.datas=[{sheetData:B,sheetName:"sheet",sheetFilter:w,sheetHeader:w}],Ke=new(pa())(l),Ke.saveExcel();case 14:case"end":return $e.stop()}},i)}));return function(u){return m.apply(this,arguments)}}();return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(va.ZP,{children:[(0,e.jsx)(He.ZP,{actionRef:ae,rowKey:"id",tableAlertRender:function(i){var u=i.selectedRowKeys;return(0,e.jsxs)("div",{children:["\u5DF2\u9009\u62E9"," ",(0,e.jsx)("a",{style:{fontWeight:600},children:u.length})," ","\u9879\xA0\xA0"]})},columns:ga,request:function(){var m=(0,C.Z)((0,t.Z)().mark(function i(u){var d;return(0,t.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return console.log("request params"),console.log(u),l.next=4,ta(u);case 4:return d=l.sent,console.log("res"),console.log(d),V(d),l.abrupt("return",d);case 9:case"end":return l.stop()}},i)}));return function(i){return m.apply(this,arguments)}}(),toolBarRender:function(){var i=[];return i.push((0,e.jsxs)(ne.Z,{type:"primary",onClick:function(){U(!0)},children:[(0,e.jsx)(Ge.Z,{}),"\u65B0\u589E\u83DC\u5355"]})),i.push((0,e.jsx)(e.Fragment,{children:(0,e.jsx)(ne.Z,{onClick:(0,C.Z)((0,t.Z)().mark(function u(){return(0,t.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:ya(k==null?void 0:k.data);case 1:case"end":return r.stop()}},u)})),children:"\u6279\u91CF\u5BFC\u51FA"})})),i},options:{setting:{draggable:!0,checkable:!0,checkedReset:!1,extra:[(0,e.jsx)("a",{children:"\u786E\u8BA4"},"confirm")]}}}),(0,e.jsx)(Xe,{onSubmit:function(){var m=(0,C.Z)((0,t.Z)().mark(function i(u){return(0,t.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,sa(u).then(function(l){if(l.success){var B;U(!1),E.default.success("\u65B0\u589E\u6210\u529F"),(B=ae.current)===null||B===void 0||B.reload()}});case 2:case"end":return r.stop()}},i)}));return function(i){return m.apply(this,arguments)}}(),onCancel:function(){return U(!1)},modalVisible:ee,menuData:k==null?void 0:k.data}),te&&Object.keys(te).length?(0,e.jsx)(ea,{onSubmit:function(){var m=(0,C.Z)((0,t.Z)().mark(function i(u){var d,r,l;return(0,t.Z)().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return d=E.default.loading(""),w.prev=1,w.next=4,da(u);case 4:return r=w.sent,d(),E.default.success("\u66F4\u6539\u6210\u529F"),r.success&&(N(!1),v({}),(l=ae.current)===null||l===void 0||l.reload()),w.abrupt("return",!0);case 11:return w.prev=11,w.t0=w.catch(1),d(),w.abrupt("return",!1);case 15:case"end":return w.stop()}},i,null,[[1,11]])}));return function(i){return m.apply(this,arguments)}}(),onCancel:function(){N(!1),v({})},updateModalVisible:R,values:te,menuData:k==null?void 0:k.data}):null,J&&Object.keys(J).length?(0,e.jsx)(ua,{onSubmit:function(){var m=(0,C.Z)((0,t.Z)().mark(function i(u){var d;return(0,t.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Za(u);case 2:d=l.sent,d&&(W(!1),ie({}),ae.current&&ae.current.reload());case 4:case"end":return l.stop()}},i)}));return function(i){return m.apply(this,arguments)}}(),onCancel:function(){W(!1),ie({})},detailModalVisible:L,values:J==null?void 0:J.result,queryRole:ve==null?void 0:ve.result}):null]})})},ma=ha}}]);

(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8234],{76702:function(lt){lt.exports={siteInputGroupWrapper:"siteInputGroupWrapper___-JfOK",siteInputSplit:"siteInputSplit___2awUQ",siteInputRight:"siteInputRight___3dU-o","ant-input-rtl":"ant-input-rtl___Bi7xD",inputGroupCompact:"inputGroupCompact___1KVPB"}},38733:function(lt){lt.exports={inputNum1:"inputNum1___2d0dz",card:"card___1xKAg",formItem:"formItem___2d0Uf",formItem1:"formItem1___ven9J",tableSearch:"tableSearch___2N2oW",alarm:"alarm___ZBXa4",select:"select___2rwl3",cardBody:"cardBody___22THb",cardBody1:"cardBody1___271NY",draggableCollapse:"draggableCollapse___dbUai",siteInputGroupWrapper:"siteInputGroupWrapper____nWpD",siteInputSplit:"siteInputSplit___3NJgC",siteInputRight:"siteInputRight___2Fjnt","ant-input-rtl":"ant-input-rtl___4H3Tt",inputGroupCompact:"inputGroupCompact___1QMzi"}},12799:function(lt){lt.exports={system:"system___2Q6R1",pageHeader:"pageHeader___3Lfvf"}},24323:function(lt,it,a){"use strict";a.d(it,{NC:function(){return _},Cp:function(){return ie},rU:function(){return Se}});var _=["\u6D41\u91CF(m3/s)","\u538B\u529B(Pa)","\u9759\u538B(Pa)","\u98CE\u673A\u6548\u7387(%)","\u9759\u538B\u6548\u7387(%)","\u8F74\u529F\u7387(kW)","\u8F6C\u901F(r/min)","\u76F4\u5F84(mm)","\u566A\u97F3(dB(A))","\u6BD4\u8F6C\u901F","u","\u6D41\u91CF\u7CFB\u6570","\u538B\u529B\u7CFB\u6570"],ie=["flowRate","fullPressure","staticPressure","fanEff","staticPressureEff","shaftPower","motorSpeed","impellerDiameter","noise","specificSpeed","u","flowCoefficient","pressureCoefficient"],Se={"\u6D41\u91CF(m3/s)":"flowRate","\u538B\u529B(Pa)":"fullPressure","\u9759\u538B(Pa)":"staticPressure","\u98CE\u673A\u6548\u7387(%)":"fanEff","\u9759\u538B\u6548\u7387(%)":"staticPressureEff","\u8F74\u529F\u7387(kW)":"shaftPower","\u8F6C\u901F(r/min)":"motorSpeed","\u76F4\u5F84(mm)":"impellerDiameter","\u566A\u97F3(dB(A))":"noise",\u6BD4\u8F6C\u901F:"specificSpeed",u:"u",\u6D41\u91CF\u7CFB\u6570:"flowCoefficient",\u538B\u529B\u7CFB\u6570:"pressureCoefficient"}},85581:function(lt,it,a){"use strict";a.d(it,{pw:function(){return q},we:function(){return ge},Jg:function(){return ye},bK:function(){return L},Jq:function(){return Z},DV:function(){return ue}});var _=a(39428),ie=a(3182),Se=a(21010);function vt(){return p.apply(this,arguments)}function p(){return p=_asyncToGenerator(_regeneratorRuntime().mark(function B(){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/imip/methods/category",{method:"GET"}));case 1:case"end":return r.stop()}},B)})),p.apply(this,arguments)}function Ue(B,S){return st.apply(this,arguments)}function st(){return st=_asyncToGenerator(_regeneratorRuntime().mark(function B(S,r){return _regeneratorRuntime().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return console.log(S,r),W.abrupt("return",request("/imip/methods/add?status=".concat(r),{method:"POST",data:_objectSpread({},S)}));case 2:case"end":return W.stop()}},B)})),st.apply(this,arguments)}function Ft(){return ke.apply(this,arguments)}function ke(){return ke=_asyncToGenerator(_regeneratorRuntime().mark(function B(){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/imip/case/connection",{method:"GET"}));case 1:case"end":return r.stop()}},B)})),ke.apply(this,arguments)}function He(){return Ye.apply(this,arguments)}function Ye(){return Ye=_asyncToGenerator(_regeneratorRuntime().mark(function B(){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/imip/knowledge/connection",{method:"GET"}));case 1:case"end":return r.stop()}},B)})),Ye.apply(this,arguments)}function xt(B){return Qe.apply(this,arguments)}function Qe(){return Qe=_asyncToGenerator(_regeneratorRuntime().mark(function B(S){return _regeneratorRuntime().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",request("/imip/methods",{method:"GET",params:S}));case 1:case"end":return P.stop()}},B)})),Qe.apply(this,arguments)}function q(){return H.apply(this,arguments)}function H(){return H=(0,ie.Z)((0,_.Z)().mark(function B(){return(0,_.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,Se.WY)("/api/fan/category/all",{method:"GET"});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},B)})),H.apply(this,arguments)}function ge(){return x.apply(this,arguments)}function x(){return x=(0,ie.Z)((0,_.Z)().mark(function B(){return(0,_.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,Se.WY)("/api/fan/category/group",{method:"GET"});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},B)})),x.apply(this,arguments)}function ye(){return Xe.apply(this,arguments)}function Xe(){return Xe=(0,ie.Z)((0,_.Z)().mark(function B(){return(0,_.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,Se.WY)("/api/fan/appl/all",{method:"GET"});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},B)})),Xe.apply(this,arguments)}function L(){return St.apply(this,arguments)}function St(){return St=(0,ie.Z)((0,_.Z)().mark(function B(){return(0,_.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,Se.WY)("/api/fan/cool/all",{method:"GET"});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},B)})),St.apply(this,arguments)}function pt(B){return Wt.apply(this,arguments)}function Wt(){return Wt=_asyncToGenerator(_regeneratorRuntime().mark(function B(S){return _regeneratorRuntime().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",request(`/api/fan/add?
  applicationModel=`.concat(S.applicationModel,`
  &category=`).concat(S.category,`
  &model=`).concat(S.model,`
  &coolObject=`).concat(S.coolObject,`
  &flowRate=`).concat(S.flowRate,`
  &shaftPower=`).concat(S.shaftPower,`
  `),{method:"POST",body:S}));case 1:case"end":return P.stop()}},B)})),Wt.apply(this,arguments)}function Z(B){return Nt.apply(this,arguments)}function Nt(){return Nt=(0,ie.Z)((0,_.Z)().mark(function B(S){var r,P;return(0,_.Z)().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return r=Et(S),he.next=3,fetch("/api/fan/add",{method:"POST",body:r});case 3:return P=he.sent,he.next=6,P.json();case 6:return he.abrupt("return",he.sent);case 7:case"end":return he.stop()}},B)})),Nt.apply(this,arguments)}function ue(B){return ot.apply(this,arguments)}function ot(){return ot=(0,ie.Z)((0,_.Z)().mark(function B(S){var r,P;return(0,_.Z)().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return r=Et(S),console.log("request1 formData.get('outlineFile')"),console.log(r.get("img3d")),console.log(r.get("outlineFile")),he.next=6,fetch("/api/fan/update",{method:"POST",body:r});case 6:return P=he.sent,he.next=9,P.json();case 9:return he.abrupt("return",he.sent);case 10:case"end":return he.stop()}},B)})),ot.apply(this,arguments)}function Vn(B,S){return Tt.apply(this,arguments)}function Tt(){return Tt=_asyncToGenerator(_regeneratorRuntime().mark(function B(S,r){return _regeneratorRuntime().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.abrupt("return",request("/api/perf/add",{method:"POST",data:{model:S,perfData:r}}));case 1:case"end":return W.stop()}},B)})),Tt.apply(this,arguments)}var Et=function(S){var r=new FormData;return Object.keys(S).forEach(function(P){if(Array.isArray(S[P])){console.log("Array.isArray( "+P+") "),console.log(S[P]);for(var W=0;W<S[P].length;W++)if(S[P][W].originFileObj!=null)r.append(P,S[P][W].originFileObj);else if(typeof S[P][W]=="object"&&S[P][W].url!=null){console.log("url != undefined");var he=new File([S[P][W].url],"file.origin");r.append(P,he)}else typeof S[P][W]=="object"&&S[P][W].uid!=null?r.append(P,S[P][W]):typeof S[P][W]=="object"?r.append(P,JSON.stringify(S[P][W])):r.append(P,S[P][W])}else typeof S[P]=="object"?r.append(P,JSON.stringify(S[P])):S[P]!=null&&r.append(P,S[P])}),r};function C(B){var S={};return B.forEach(function(r,P){return S[P]=r}),S}},86626:function(lt,it,a){"use strict";a.r(it),a.d(it,{default:function(){return Pr}});var _=a(58024),ie=a(91894),Se=a(18106),vt=a(95562),p=a(67294),Ue=a(21010),st=a(20136),Ft=a(55241),ke=a(57663),He=a(71577),Ye=a(49111),xt=a(19650),Qe=a(32157),q=a(7573),H=a(62350),ge=a(24565),x=a(39428),ye=a(3182),Xe=a(13062),L=a(71230),St=a(63185),pt=a(9676),Wt=a(89032),Z=a(15746),Nt=a(77883),ue=a(85986),ot=a(93224),Vn=a(74379),Tt=a(38648),Et=a(86582),C=a(11849),B=a(34792),S=a(48086),r=a(2824),P=a(402),W=a(56256),he=a(43358),ut=a(34041),Ur=a(47673),yt=a(4107),Ln=a(51042),Wn=a(90631),Nn=a(43425),tn=a(52897),ct=a(32228),nn=a(19630),Kn=a(76702),_e=a.n(Kn),zn=a(91283),rn=a(85581);function Un(Te){return an.apply(this,arguments)}function an(){return an=(0,ye.Z)((0,x.Z)().mark(function Te(z){return(0,x.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",(0,Ue.WY)("/api/fan/delete",{method:"POST",data:z}));case 1:case"end":return E.stop()}},Te)})),an.apply(this,arguments)}function Gn(Te){return ln.apply(this,arguments)}function ln(){return ln=(0,ye.Z)((0,x.Z)().mark(function Te(z){return(0,x.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",(0,Ue.WY)("/api/fan/import/excel",{method:"POST",data:z}));case 1:case"end":return E.stop()}},Te)})),ln.apply(this,arguments)}var $n=a(36663),e=a(85893),Jn=function(z){var J,E=z.auth,s=z.loading,Y=s===void 0?!1:s,ve=z.fallback,G=ve===void 0?null:ve,me=z.spinProps,N=me===void 0?{}:me,We=z.children,Q=z.path,je=(0,nn.TH)(),se=je||{},xe=se.pathname;console.log("props"),console.log(z),console.log("location"),console.log(je),console.log("pathname"),console.log(xe);var Ee=(0,Ue.tT)("@@initialState"),de=Ee.initialState,pe=de==null||(J=de.currentUser)===null||J===void 0?void 0:J.authList;console.log("initialState"),console.log(de);var De=pe==null?[]:pe;console.log(De.includes("".concat(Q||xe,":").concat(E)));var Ne=(0,p.useMemo)(function(){return console.log("".concat(Q||xe,"/").concat(E)),De.includes("".concat(Q||xe,":").concat(E))||De.includes("".concat(xe," "))},[je,E,De]);return(0,e.jsx)(e.Fragment,{children:Ne?We:G})},kn=Jn,Hn=["type","defaultRender"],Yn=["type","defaultRender"],Qn=["type","defaultRender"],Xn=["type","defaultRender"],_n=["type","defaultRender"],qn=yt.Z.Search,Gr=ut.Z.Option,er=W.Z.Title,tr=function Te(z,J){for(var E,s=0;s<J.length;s++){var Y=J[s];Y.children&&(Y.children.some(function(ve){return ve.key===z})?E=Y.key:Te(z,Y.children)&&(E=Te(z,Y.children)))}return E},$r=null,Jr=null,nr=function(z){var J,E=(0,Ue.tT)("@@initialState"),s=E.initialState,Y=s==null||(J=s.currentUser)===null||J===void 0?void 0:J.authList,ve=Y==null?[]:Y,G=(0,nn.TH)(),me=G||{},N=me.pathname;console.log("pathname"),console.log(N);var We=z.permission,Q=z.manage,je=(0,p.useState)({}),se=(0,r.Z)(je,2),xe=se[0],Ee=se[1],de=(0,p.useState)({}),pe=(0,r.Z)(de,2),De=pe[0],Ne=pe[1],ft=(0,p.useState)({}),we=(0,r.Z)(ft,2),K=we[0],te=we[1],qe=(0,p.useState)([]),Ge=(0,r.Z)(qe,2),A=Ge[0],Be=Ge[1],et=(0,p.useState)(""),Me=(0,r.Z)(et,2),$e=Me[0],Re=Me[1],tt=(0,p.useState)(!0),Fe=(0,r.Z)(tt,2),Ce=Fe[0],le=Fe[1],Je=(0,p.useState)([]),$=(0,r.Z)(Je,2),ee=$[0],X=$[1],ce=(0,p.useState)([]),M=(0,r.Z)(ce,2),w=M[0],Oe=M[1],Pe=(0,p.useState)(),Pt=(0,r.Z)(Pe,2),Zt=Pt[0],Ae=Pt[1],bt=(0,p.useState)({}),Ut=(0,r.Z)(bt,2),Ot=Ut[0],cn=Ut[1],Gt=function(){return Ot},fn=(0,p.useState)({}),At=(0,r.Z)(fn,2),ne=At[0],nt=At[1],$t=(0,p.useState)({}),hn=(0,r.Z)($t,2),be=hn[0],rt=hn[1],pn=(0,p.useState)({current:1,pageSize:5}),Jt=(0,r.Z)(pn,2),It=Jt[0],kt=Jt[1],Ht=(0,p.useRef)();(0,p.useEffect)(function(){(0,ct.ai)().then(function(g){var U=Dr(g.data),R=U.treeData,T=U.dataList;Oe(T),X(R)}).catch(function(g){S.default.error("\u8BF7\u6C42\u5931\u8D25\uFF01")}),(0,rn.pw)().then(function(g){for(var U={},R=0;R<g.data.length;R++)U[g.data[R]]=g.data[R];Ee(U),(0,rn.Jg)().then(function(T){for(var ze={},dt=0;dt<T.data.length;dt++)ze[T.data[dt]]=T.data[dt];console.log(ze),Ne(ze)}),(0,rn.bK)().then(function(T){for(var ze={},dt=0;dt<T.data.length;dt++)ze[T.data[dt]]=T.data[dt];console.log(ze),te(ze)})}),console.log("useEffect sessionStorage");try{var D,o,t=sessionStorage.getItem("searchData");if(t){t=JSON.parse(t),console.log("\u628AsearchData\u8D4B\u503C\u5230\u641C\u7D22\u8868\u5355\u91CC\u9762 "),console.log(t),t.sortParam1!=null&&m(t.sortParam1),t.sortParam2!=null&&Ie(t.sortParam2),t.sortParam3!=null&&jt(t.sortParam3),t.sortParam4!=null&&Qt(t.sortParam4),t.checkedControl!=null&&Ke(t.checkedControl),t.sortRange!=null&&n(t.sortRange),t.checkDisable!=null&&Ve(t.checkDisable);for(var i=["flowRate","fullPressure","motorSpeed","shaftPower","efficiency"],h=0;h<i.length;h++){var b=i[h];t[b+"Between"]!=null&&(t[b]=t[b+"Between"],t[b+"Between"]=void 0)}console.log(t),console.log("beforeSearchParams"),console.log(be),t.sort!=null&&rt((0,C.Z)((0,C.Z)({},be),{},{sort:t.sort,sortRange:t.sortRange,sortParam1:t.sortParam1,sortParam2:t.sortParam2}))}console.log("\u628A\u503C\u8D4B\u503C\u5230\u641C\u7D22\u8868\u5355\u91CC\u9762"),console.log(t),(D=Ht.current)===null||D===void 0||D.setFieldsValue(t),console.log("formRef.current?.getFieldsValue()"),console.log((o=Ht.current)===null||o===void 0?void 0:o.getFieldsValue());var j=["flowRate","fullPressure","motorSpeed","shaftPower","efficiency"];for(var V in j){var f=j[V];t[f]&&t[f].length&&(t[f+"Between"]=t[f],t[f]=void 0)}nt(t)}catch(g){sessionStorage.removeItem("searchData")}},[]);var mn=(0,p.useState)([]),Yt=(0,r.Z)(mn,2),gn=Yt[0],vn=Yt[1],xn=function(o){var t;console.log("submitExcelData"),console.log(o),Gn(o),(t=_t.current)===null||t===void 0||t.reload(),vn(o)},Sn=(0,p.useState)([!1,!1]),Vt=(0,r.Z)(Sn,2),k=Vt[0],Ke=Vt[1],yn=(0,p.useState)([!0,!0]),Zn=(0,r.Z)(yn,2),oe=Zn[0],Ve=Zn[1],jn=(0,p.useState)([5,5]),at=(0,r.Z)(jn,2),c=at[0],n=at[1],l=(0,p.useState)("flowRate"),d=(0,r.Z)(l,2),u=d[0],m=d[1],I=(0,p.useState)("fullPressure"),y=(0,r.Z)(I,2),v=y[0],Ie=y[1],fe=(0,p.useState)("motorSpeed"),re=(0,r.Z)(fe,2),F=re[0],jt=re[1],Dt=(0,p.useState)("shaftPower"),gt=(0,r.Z)(Dt,2),O=gt[0],Qt=gt[1],Xt={flowRate:"m\xB3/s",fullPressure:"Pa",motorSpeed:"r/min",shaftPower:"kW",efficiency:"%"},ra={flowRate:"\u6D41\u91CF",fullPressure:"\u5168\u538B",motorSpeed:"\u8F6C\u901F",shaftPower:"\u8F74\u529F\u7387",efficiency:"\u6548\u7387"},br=function(o){Be(o),le(!1)},Ir=function(o,t){var i;if(console.log(o),o.length==0)nt({});else{var h=o[0].split("-"),b=t.node.pos.split("-").length-2;switch(b){case 0:nt({applicationModelId:h[0]});break;case 1:nt({applicationModelId:h[0],coolObject:h[1]});break;case 2:nt({applicationModelId:h[0],coolObject:h[1],categoryId:h[2]});break;case 3:nt({applicationModelId:h[0],coolObject:h[1],categoryId:h[2],category:h[3]});break}}console.log("searchParams"),console.log(ne),(i=_t.current)===null||i===void 0||i.reload()},Dr=function(o){var t=[],i=[],h=[],b=0,j=function(g){t.push({title:g,key:g,children:[]}),i.push(g);var U=o[g],R=0,T=function(wt){t[b].children.push({title:wt,key:g+"-"+wt,children:[]}),i.push(wt);var An=U[wt],wn=0,Nr=function(Lt){t[b].children[R].children.push({title:Lt,key:g+"-"+wt+"-"+Lt,children:[]});var zr=[],en=An[Lt];typeof en=="string"?(t[b].children[R].children[wn].children=[],t[b].children[R].children[wn].children.push({title:en,key:g+"-"+wt+"-"+Lt+"-"+en,children:[]})):en.forEach(function(Fn){zr.push({title:Fn,key:g+"-"+wt+"-"+Lt+"-"+Fn}),i.push(Fn)}),wn++};for(var Kr in An)Nr(Kr);R++};for(var ze in U)T(ze);b++};for(var V in o)j(V);return i=(0,Et.Z)(new Set(i)),i.forEach(function(f){h.push({key:f,title:f})}),{treeData:t,dataList:h}},Rr=function(o,t){var i=o.target.value;console.log(i);var h=t.map(function(b){return b.title.indexOf(i)>-1?(console.log("getParentKey"),tr(b.key,Bn)):null}).filter(function(b,j,V){return b&&V.indexOf(b)===j});Be(h),Re(i),le(!0)},Bn=(0,p.useMemo)(function(){console.log("defaultTreeData"),console.log(ee);var D=function o(t){return t.map(function(i){var h=i.title,b=h.indexOf($e),j=h.substring(0,b),V=h.slice(b+$e.length),f=b>-1?(0,e.jsxs)("span",{children:[j,(0,e.jsx)("span",{style:{color:"#f50"},children:$e}),V]}):(0,e.jsx)("span",{children:h});return i.children?{title:f,key:i.key,children:o(i.children)}:{title:f,key:i.key}})};return D(ee)},[$e,ee]),_t=(0,p.useRef)(),Tr=function(o){return{onDoubleClick:function(i){console.log(i),i.stopPropagation(),(0,ct.LU)(o.model).then(function(h){Ae(h.data)}).catch(function(h){S.default.error("\u8BF7\u6C42\u5931\u8D25\uFF01")}),(0,ct.A3)(o.model).then(function(h){cn(h.data)}).catch(function(h){S.default.error("\u8BF7\u6C42\u5931\u8D25\uFF01")})}}},Er=function(o,t){console.log("goFanDetail searchParams"),console.log(ne),sessionStorage.removeItem("searchData");var i=!(!oe[0]&&!oe[1]&&(k[0]||k[1])),h=JSON.stringify((0,C.Z)((0,C.Z)({},ne),{},{current:1,sortParam1:u,sortParam2:v,sortParam3:F,sortParam4:O,checkedControl:k,sortRange:i?void 0:c,checkDisable:oe,sort:k[0]}));rt(h),sessionStorage.setItem("searchData",h),Ue.m8.push({pathname:"/fans/detail",state:{model:t.model,activeKey:Q?"4":"1"}})},Br=function(o,t){Ue.m8.push("/fans/create?id=".concat(t.model))},Mr=function(){Ue.m8.push("/fans/create")},Or=function(o){console.log(o);var t=[];t.push(o.model),Un(t).then(function(i){if(i.success){var h;Tt.default.success({message:"\u5220\u9664\u6210\u529F\uFF01"}),(h=_t.current)===null||h===void 0||h.reload()}}).catch(function(i){S.default.error("\u8BF7\u6C42\u5931\u8D25\uFF01")})},Ar=function(o,t,i){console.log("beforeSearchSubmit"),console.log(i);var h,b;if(i!=null){var j={};j=i;for(var V in j)if(V.indexOf("min")!=-1){h=V;var f=V.split("-")[0];b=f+"-max",j[b]!=null?j[f+"Between"]=[j[V],j[b]]:(j[f]=j[V],j[h]=void 0,j[b]=void 0,j[f+"Between"]=void 0)}else if(V.indexOf("max")!=-1){b=V;var g=V.split("-")[0];h=g+"-min",j[h]!=null?j[g+"Between"]=[j[h],j[b]]:(j[g]=j[b],j[h]=void 0,j[b]=void 0,j[g+"Between"]=void 0)}o=(0,C.Z)((0,C.Z)((0,C.Z)({},o),t),i)}else o=(0,C.Z)((0,C.Z)({},o),t);return nt(o),console.log("params"),console.log(o),o},Rt=function(o,t){var i={};i=o,t.forEach(function(h){i[h.key]=h.value}),console.log("temp"),console.log(i),rt(i)},Vr=(0,p.useState)([!0,!0,!0,!0]),Mn=(0,r.Z)(Vr,2),ht=Mn[0],Lr=Mn[1],qt=function(o,t){var i=!o.target.checked,h=[];ht.forEach(function(b){return h.push(b)}),h[t]=i,Lr(h)},On=["flowRate","fullPressure","motorSpeed","shaftPower","efficiency"],Wr=[{title:(0,e.jsx)(ut.Z,{value:u,onChange:function(o){var t=[{key:u,value:void 0}];Rt(be,t),m(o),Ke([!1,!1])},options:[{value:"flowRate",label:"\u6D41\u91CF",disabled:[v,F,O].includes("flowRate")},{value:"fullPressure",label:"\u5168\u538B",disabled:[v,F,O].includes("fullPressure")},{value:"shaftPower",label:"\u8F74\u529F\u7387",disabled:[v,F,O].includes("shaftPower")}]}),dataIndex:u,hideInTable:!0,hideInSearch:!1,renderFormItem:function(o,t,i){var h=t.type,b=t.defaultRender,j=(0,ot.Z)(t,Hn);return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(L.Z,{wrap:!1,gutter:6,align:"middle",children:[(0,e.jsx)(Z.Z,{style:{width:"100%"},children:(0,e.jsx)(ue.Z,{style:{width:"100%"},min:k[0]?1:0,value:i.getFieldValue(u),onChange:function(f){console.log("value"),console.log(f),console.log("form.setFieldValue("+u+","+f+")"),i.setFieldValue(u,f),f==null?(Ke([!1,k[1]]),Ve([!0,oe[1]])):Ve([!1,oe[1]]);var g=[{key:u,value:f}];Rt(be,g)}})}),(0,e.jsx)(Z.Z,{children:Xt[u]}),(0,e.jsx)(Z.Z,{children:(0,e.jsx)(pt.Z,{value:u,checked:k[0],disabled:!(!oe[0]&&!oe[1]),onChange:function(f){var g=f.target.checked;g?(Ke([g,!1]),rt((0,C.Z)((0,C.Z)({},be),{},{sortParam1:u,sortParam2:v,sort:g,sortRange:c}))):(Ke([g,k[1]]),rt((0,C.Z)((0,C.Z)({},be),{},{sort:g,sortRange:k[1]?be.sortRange:void 0})))}})})]})})}},{title:(0,e.jsx)(ut.Z,{value:v,onChange:function(o){console.log("value"),console.log(o);var t=[{key:v,value:void 0}];Rt(be,t),Ie(o),Ke([!1,!1])},options:[{value:"flowRate",label:"\u6D41\u91CF",disabled:[u,F,O].includes("flowRate")},{value:"fullPressure",label:"\u5168\u538B",disabled:[u,F,O].includes("fullPressure")},{value:"shaftPower",label:"\u8F74\u529F\u7387",disabled:[u,F,O].includes("shaftPower")}]}),hideInTable:!0,hideInSearch:!1,dataIndex:v,renderFormItem:function(o,t,i){var h=t.type,b=t.defaultRender,j=(0,ot.Z)(t,Yn);return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(L.Z,{wrap:!1,gutter:6,align:"middle",children:[(0,e.jsx)(Z.Z,{style:{width:"100%"},children:(0,e.jsx)(ue.Z,{min:k[1]?1:0,value:i.getFieldValue(v),style:{width:"100%"},onChange:function(f){console.log("form.setFieldValue("+v+","+f+")"),i.setFieldValue(v,f),f==null?(Ke([k[0],!1]),Ve([oe[0],!0])):Ve([oe[0],!1]);var g=[{key:v,value:f}];Rt(be,g)}})}),(0,e.jsx)(Z.Z,{children:Xt[v]}),(0,e.jsx)(Z.Z,{children:(0,e.jsx)(pt.Z,{checked:k[1],disabled:!(!oe[0]&&!oe[1]),onChange:function(f){var g=f.target.checked;g?(Ke([!1,g]),rt((0,C.Z)((0,C.Z)({},be),{},{sortParam1:u,sortParam2:v,sort:!1,sortRange:c}))):(Ke([k[0],g]),n(k[1]?c:void 0),rt((0,C.Z)((0,C.Z)({},be),{},{sort:k[0],sortRange:k[1]?c:void 0})))}})})]})})}},{title:"\u9009\u62E9\u8303\u56F4",key:"sortRange",hideInTable:!0,hideInSearch:!1,dataIndex:"sortRange",tip:"\u5BF9\u62DF\u5408\u6570\u636E\u8FDB\u884C\u8303\u56F4\u6392\u5E8F\u67E5\u8BE2\uFF0C\u5FC5\u987B\u586B\u5165\u524D\u4E24\u4E2A\u6570\u636E\u624D\u53EF\u52FE\u9009\uFF0C\u6309\u52FE\u9009\u6761\u4EF6\u8FDB\u884C\u8303\u56F4\u67E5\u8BE2",renderFormItem:function(o,t,i){var h=t.type,b=t.defaultRender,j=(0,ot.Z)(t,Qn);return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:_e().siteInputGroupWrapper,children:(0,e.jsxs)(L.Z,{wrap:!1,align:"middle",gutter:6,children:[(0,e.jsx)(Z.Z,{children:(0,e.jsx)("div",{className:_e().inputGroupCompact,children:(0,e.jsxs)(yt.Z.Group,{compact:!0,children:[(0,e.jsx)(ue.Z,{disabled:!(!oe[0]&&!oe[1]&&(k[0]||k[1])),min:0,addonBefore:"-",value:c&&c[0]?c[0]:void 0,style:{width:"45%",textAlign:"center"},onChange:function(){var V=(0,ye.Z)((0,x.Z)().mark(function f(g){return(0,x.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:g&&(c==null?(console.log(" setSortRange("+g+","+0+")"),n([g,0])):(console.log("setSortRange:("+g+","+c[1]+")"),n([g,c[1]])));case 1:case"end":return R.stop()}},f)}));return function(f){return V.apply(this,arguments)}}()}),(0,e.jsx)(yt.Z,{className:_e().siteInputSplit,style:{width:30,borderLeft:0,borderRight:0,pointerEvents:"none"},placeholder:"~",disabled:!0}),(0,e.jsx)(ue.Z,{disabled:!(!oe[0]&&!oe[1]&&(k[0]||k[1])),className:_e().siteInputRight,style:{width:"45%",textAlign:"center"},addonBefore:"+",value:c&&c[1]?c[1]:void 0,onChange:function(){var V=(0,ye.Z)((0,x.Z)().mark(function f(g){return(0,x.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:g&&(c==null?(console.log("form.setFieldValue("+0+","+g+")"),n([0,g])):(console.log("setSortRange("+c[0]+","+g+")"),n([c[0],g])));case 1:case"end":return R.stop()}},f)}));return function(f){return V.apply(this,arguments)}}()})]})})}),(0,e.jsx)(Z.Z,{children:"%"})]})})})}},{title:(0,e.jsx)(ut.Z,{value:F,onChange:function(o){var t=[{key:F,value:void 0},{key:F+"-min",value:void 0},{key:F+"-max",value:void 0}];Rt(be,t),jt(o)},options:[{value:"flowRate",label:"\u6D41\u91CF",disabled:[u,v,O].includes("flowRate")},{value:"fullPressure",label:"\u5168\u538B",disabled:[u,v,O].includes("fullPressure")},{value:"motorSpeed",label:"\u8F6C\u901F",disabled:[u,v,O].includes("motorSpeed")},{value:"shaftPower",label:"\u8F74\u529F\u7387",disabled:[u,v,O].includes("shaftPower")},{value:"efficiency",label:"\u6548\u7387",disabled:[u,v,O].includes("efficiency")}]}),dataIndex:F,hideInTable:!0,hideInSearch:!1,renderFormItem:function(o,t,i){var h=t.type,b=t.defaultRender,j=(0,ot.Z)(t,Xn);return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:_e().siteInputGroupWrapper,children:(0,e.jsxs)(L.Z,{wrap:!1,align:"middle",gutter:6,children:[(0,e.jsx)(Z.Z,{children:(0,e.jsx)("div",{className:_e().inputGroupCompact,children:(0,e.jsxs)(yt.Z.Group,{compact:!0,children:[(0,e.jsx)(ue.Z,{min:0,value:i.getFieldValue(F)?i.getFieldValue(F)[0]:void 0,style:{width:"45%",textAlign:"center"},placeholder:"\u6700\u5C0F\u503C",onChange:function(){var V=(0,ye.Z)((0,x.Z)().mark(function f(g){var U;return(0,x.Z)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,i.getFieldsValue();case 2:U=T.sent,console.log("result"),console.log(U),U[F]==null?(console.log("form.setFieldValue("+F+","+g+")"),i.setFieldValue(F,[g,void 0])):(console.log("form.setFieldValue("+F+","+g+")"),i.setFieldValue(F,[g,U[F][1]]));case 6:case"end":return T.stop()}},f)}));return function(f){return V.apply(this,arguments)}}()}),(0,e.jsx)(yt.Z,{className:_e().siteInputSplit,style:{width:30,borderLeft:0,borderRight:0,pointerEvents:"none"},placeholder:"~",disabled:!0}),(0,e.jsx)(ue.Z,{min:0,className:_e().siteInputRight,style:{width:"45%",textAlign:"center"},value:i.getFieldValue(F)?i.getFieldValue(F)[1]:void 0,placeholder:"\u6700\u5927\u503C",onChange:function(){var V=(0,ye.Z)((0,x.Z)().mark(function f(g){var U;return(0,x.Z)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,i.getFieldsValue();case 2:U=T.sent,console.log("result"),console.log(U),U[F]==null?(console.log("form.setFieldValue("+F+","+g+")"),i.setFieldValue(F,[void 0,g])):(console.log("form.setFieldValue("+F+","+g+")"),i.setFieldValue(F,[U[F][0],g]));case 6:case"end":return T.stop()}},f)}));return function(f){return V.apply(this,arguments)}}()})]})})}),(0,e.jsx)(Z.Z,{children:Xt[F]})]})})})}},{title:(0,e.jsx)(ut.Z,{value:O,onChange:function(o){var t=[{key:O,value:void 0},{key:O+"-min",value:void 0},{key:O+"-max",value:void 0}];Rt(be,t),Qt(o)},options:[{value:"flowRate",label:"\u6D41\u91CF",disabled:[u,v,F].includes("flowRate")},{value:"fullPressure",label:"\u5168\u538B",disabled:[u,v,F].includes("fullPressure")},{value:"motorSpeed",label:"\u8F6C\u901F",disabled:[u,v,F].includes("motorSpeed")},{value:"shaftPower",label:"\u8F74\u529F\u7387",disabled:[u,v,F].includes("shaftPower")},{value:"efficiency",label:"\u6548\u7387",disabled:[u,v,F].includes("efficiency")}]}),dataIndex:O,hideInTable:!0,hideInSearch:!1,renderFormItem:function(o,t,i){var h=t.type,b=t.defaultRender,j=(0,ot.Z)(t,_n);return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:_e().siteInputGroupWrapper,children:(0,e.jsxs)(L.Z,{wrap:!1,align:"middle",gutter:6,children:[(0,e.jsx)(Z.Z,{children:(0,e.jsx)("div",{className:_e().inputGroupCompact,children:(0,e.jsxs)(yt.Z.Group,{compact:!0,children:[(0,e.jsx)(ue.Z,{min:0,style:{width:"45%",textAlign:"center"},value:i.getFieldValue(O)?i.getFieldValue(O)[0]:void 0,placeholder:"\u6700\u5C0F\u503C",onChange:function(){var V=(0,ye.Z)((0,x.Z)().mark(function f(g){var U;return(0,x.Z)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,i.getFieldsValue();case 2:U=T.sent,U[O]==null?i.setFieldValue(O,[g,void 0]):i.setFieldValue(O,[g,U[O][1]]);case 4:case"end":return T.stop()}},f)}));return function(f){return V.apply(this,arguments)}}()}),(0,e.jsx)(yt.Z,{className:_e().siteInputSplit,style:{width:30,borderLeft:0,borderRight:0,pointerEvents:"none"},placeholder:"~",disabled:!0}),(0,e.jsx)(ue.Z,{min:0,className:_e().siteInputRight,style:{width:"45%",textAlign:"center"},value:i.getFieldValue(O)?i.getFieldValue(O)[1]:void 0,placeholder:"\u6700\u5927\u503C",onChange:function(){var V=(0,ye.Z)((0,x.Z)().mark(function f(g){var U;return(0,x.Z)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,i.getFieldsValue();case 2:U=T.sent,U[O]==null?i.setFieldValue(O,[void 0,g]):i.setFieldValue(O,[U[O][0],g]);case 4:case"end":return T.stop()}},f)}));return function(f){return V.apply(this,arguments)}}()})]})})}),(0,e.jsx)(Z.Z,{children:Xt[O]})]})})})}},{title:"\u5E8F\u53F7",dataIndex:"key",align:"center",hideInSearch:!0,width:80,render:function(o,t,i){var h=(It.current-1)*It.pageSize+(i+1);return h}},{title:"\u5E94\u7528\u8F66\u578B",dataIndex:"applicationModelId",valueType:"textarea",align:"center",width:140,valueEnum:De},{title:"\u51B7\u5374\u5BF9\u8C61",dataIndex:"coolObject",valueType:"textarea",align:"center",width:140,valueEnum:K},{title:"\u98CE\u673A\u7C7B\u578B",dataIndex:"category",valueType:"textarea",align:"center",width:140,valueEnum:xe},{title:"\u578B\u53F7",dataIndex:"model",valueType:"textarea",align:"center",width:80},{title:"\u56FE\u53F7",dataIndex:"figNum",valueType:"textarea",align:"center",width:80},{title:"\u6D41\u91CF",dataIndex:"flowRate",valueType:"digit",align:"center",width:80,hideInSearch:!0,render:function(o,t,i){var h=ne.sort?v:u;return t.deviation!=null&&t.sortflowRate!=null?(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("label",{style:{color:"#52c41a"},children:[t.sortflowRate,"(",t.deviation.toString(),"%)"]})}):t.deviation!=null&&h=="flowRate"?(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("label",{style:{color:"#52c41a"},children:t.searchflowRate})}):t.flowRate}},{title:"\u5168\u538B",dataIndex:"fullPressure",valueType:"digit",align:"center",width:80,hideInSearch:!0,render:function(o,t,i){console.log(t.deviation);var h=ne.sort?v:u;return t.deviation!=null&&t.sortfullPressure!=null?(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("label",{style:{color:"#52c41a"},children:[t.sortfullPressure,"(",t.deviation.toString(),"%)"]})}):t.deviation!=null&&h=="fullPressure"?(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("label",{style:{color:"#52c41a"},children:t.searchfullPressure})}):t.fullPressure}},{title:"\u9759\u538B",dataIndex:"staticPressure",valueType:"digit",align:"center",width:80,hideInSearch:!0},{title:"\u8F6C\u901F",dataIndex:"motorSpeed",valueType:"digit",align:"center",width:80,hideInSearch:!0},{title:"\u6548\u7387",dataIndex:"efficiency",valueType:"digit",align:"center",hideInSearch:!0,width:80},{title:"\u8F74\u529F\u7387",dataIndex:"shaftPower",valueType:"digit",align:"center",hideInSearch:!0,width:100,render:function(o,t,i){var h=ne.sort?v:u;return t.deviation!=null&&t.sortshaftPower!=null?(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("label",{style:{color:"#52c41a"},children:[t.sortshaftPower,"(",t.deviation.toString(),"%)"]})}):t.deviation!=null&&h=="shaftPower"?(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("label",{style:{color:"#52c41a"},children:t.searchshaftPower})}):t.shaftPower}},{title:"\u989D\u5B9A\u7535\u538B",dataIndex:"ratedVoltage",valueType:"digit",align:"center",hideInSearch:!0,hideInTable:ht[0],width:140},{title:"\u989D\u5B9A\u7535\u6D41",dataIndex:"ratedCurrent",valueType:"digit",align:"center",hideInSearch:!0,hideInTable:ht[1],width:140},{title:"\u6D77\u62D4",dataIndex:"altitude",valueType:"digit",align:"center",hideInTable:ht[2],hideInSearch:!0,width:100},{title:"\u6E29\u5EA6",dataIndex:"temperature",valueType:"digit",align:"center",hideInTable:ht[3],hideInSearch:!0,width:100},{title:"\u64CD\u4F5C",valueType:"option",key:"option",align:"center",width:150,render:function(o,t){return[(0,e.jsx)("a",{onClick:function(){return Er(o,t)},children:"\u8BE6\u60C5"},"detail"),Q?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("a",{onClick:function(){return Br(o,t)},children:"\u7F16\u8F91"},"editable"),(0,e.jsx)(ge.Z,{title:"\u786E\u8BA4\u5220\u9664\u5417?",onConfirm:function(){return Or(t)},okText:"\u662F",cancelText:"\u5426",children:(0,e.jsx)("a",{children:"\u5220\u9664"},"delete")},"popconfirm1")]}):null,,]}}];return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(L.Z,{children:[(0,e.jsx)(kn,{auth:"auth_tree",children:(0,e.jsx)(Z.Z,{span:4,children:(0,e.jsxs)(ie.Z,{bordered:!1,children:[(0,e.jsx)(er,{level:5,children:"\u98CE\u673A\u7C7B\u578B"}),(0,e.jsxs)("div",{children:[(0,e.jsx)(qn,{style:{marginBottom:8},placeholder:"",onChange:function(o){Rr(o,w)}}),(0,e.jsx)(q.Z,{showLine:!0,showIcon:!0,onExpand:br,expandedKeys:A,autoExpandParent:Ce,treeData:Bn,onSelect:Ir})]})]})})}),(0,e.jsxs)(Z.Z,{span:ve.includes("".concat(N,":auth_tree"))?20:"flex",children:[(0,e.jsx)(L.Z,{children:(0,e.jsx)(tn.ZP,{scroll:{x:660},columns:Wr,actionRef:_t,formRef:Ht,form:{ignoreRules:!1},cardBordered:!0,onRow:Tr,tableAlertRender:function(o){var t=o.selectedRowKeys,i=o.selectedRows,h=o.onCleanSelected;return(0,e.jsx)(xt.Z,{size:24,children:(0,e.jsxs)("span",{children:["\u5DF2\u9009 ",t.length," \u9879",(0,e.jsx)("a",{style:{marginLeft:8},onClick:h,children:"\u6E05\u7A7A"})]})})},tableAlertOptionRender:function(){return(0,e.jsxs)(xt.Z,{size:16,children:[(0,e.jsx)("a",{children:"\u5220\u9664"}),(0,e.jsx)("a",{children:"\u5BFC\u51FA"})]})},params:ne,request:function(){var D=(0,ye.Z)((0,x.Z)().mark(function o(t){var i;return(0,x.Z)().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return console.log("request params"),console.log(t),b.next=4,(0,ct.MU)(t).catch(function(j){console.log(j)});case 4:return i=b.sent,b.abrupt("return",i);case 6:case"end":return b.stop()}},o)}));return function(o){return D.apply(this,arguments)}}(),rowKey:"model",search:{labelWidth:"auto",showHiddenNum:!0,defaultCollapsed:!1,optionRender:function(o,t,i){var h=o.searchText,b=o.resetText,j=t.form;return[(0,e.jsx)(He.Z,{onClick:function(){Be([]),Ke([!1,!1]),Ve([!0,!0]),n([5,5]),sessionStorage.removeItem("searchData"),j==null||j.resetFields();var f=j==null?void 0:j.getFieldsValue();rt((0,C.Z)((0,C.Z)((0,C.Z)({},be),f),{},{sort:void 0,sortParam1:void 0,sortParam2:void 0,flowRateBetween:void 0,fullPressureBetween:void 0,motorSpeedBetween:void 0,shaftPowerBetween:void 0,efficiencyBetween:void 0})),j==null||j.submit()},children:b},"resetText"),(0,e.jsx)(He.Z,{type:"primary",onClick:function(){sessionStorage.removeItem("searchData");var f=j==null?void 0:j.getFieldsValue(),g=!0;for(var U in On){var R=On[U];f[R]&&f[R].length&&((f[R][0]||f[R][0]==0)&&(f[R][1]||f[R][1]==0)?(f[R+"Between"]=f[R],f[R]=void 0):f[R][0]||f[R][0]==0?(S.default.warn("\u8BF7\u586B\u5199\u6700\u5927\u503C\uFF01"),g=!1,f[R+"Between"]=void 0):f[R][1]||f[R][1]==0?(S.default.warn("\u8BF7\u586B\u5199\u6700\u5C0F\u503C\uFF01"),g=!1,f[R+"Between"]=void 0):(f[R+"Between"]=void 0,f[R]=void 0))}if(g){var T=!(!oe[0]&&!oe[1]&&(k[0]||k[1])),ze=(0,C.Z)((0,C.Z)({},f),{},{sortParam1:u,sortParam2:v,sortParam3:F,sortParam4:O,checkedControl:k,sortRange:T?void 0:c,checkDisable:oe,sort:k[0]});kt({current:1,pageSize:ne.pageSize}),rt((0,C.Z)({},ze)),ze=JSON.stringify(ze),sessionStorage.setItem("searchData",ze),j==null||j.submit()}},children:h},"searchText")]}},toolBarRender:function(){var o=[];return Q&&o.push((0,e.jsxs)(He.Z,{type:"primary",onClick:function(){return Mr()},children:[(0,e.jsx)(Ln.Z,{}),"\u65B0\u5EFA"]}),(0,e.jsxs)(He.Z,{onClick:function(){(0,$n.Sv)("/psad/fan/template/\u98CE\u673A\u4FE1\u606F+\u6027\u80FD\u66F2\u7EBF\u6A21\u677F.xls")},children:[(0,e.jsx)(Wn.Z,{}),"excel\u6A21\u677F\u4E0B\u8F7D"]})),o.push((0,e.jsx)(Ft.Z,{content:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(pt.Z,{checked:!ht[0],onChange:function(i){qt(i,0)},children:"\u989D\u5B9A\u7535\u538B"}),(0,e.jsx)("br",{}),(0,e.jsx)(pt.Z,{checked:!ht[1],onChange:function(i){qt(i,1)},children:"\u989D\u5B9A\u7535\u6D41"}),(0,e.jsx)("br",{}),(0,e.jsx)(pt.Z,{checked:!ht[2],onChange:function(i){qt(i,2)},children:"\u6D77\u62D4"}),(0,e.jsx)("br",{}),(0,e.jsx)(pt.Z,{checked:!ht[3],onChange:function(i){qt(i,3)},children:"\u6E29\u5EA6"})]}),placement:"bottom",title:"\u5217\u5C55\u793A",trigger:"click",children:(0,e.jsx)(Nn.Z,{})})),o},options:{density:!0,fullScreen:!0,setting:!1},pagination:(0,C.Z)((0,C.Z)({},It),{},{defaultPageSize:5,showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:["5","10","20","50"]}),onChange:function(o){kt({current:o.current,pageSize:o.pageSize}),nt((0,C.Z)((0,C.Z)({},ne),{},{current:o.current,pageSize:o.pageSize}))},dateFormatter:"string",beforeSearchSubmit:function(o){Ar(o,It,be)}})}),Zt==null||Ot==null?null:(0,e.jsx)(zn.Z,{fanInfo:Zt,getPerfData:Gt,authList:Y})]})]})})},Cn=nr,kr=a(22385),Pn=a(45777),Hr=a(98858),Le=a(4914),Yr=a(88983),sn=a(47933),Qr=a(48736),Bt=a(27049),Xr=a(62999),rr=a(54680),_r=a(71153),on=a(60331),qr=a(54029),ar=a(79166),ea=a(9715),Ze=a(55843),Kt=a(42852),lr=a(38733),Ct=a.n(lr),ir=a(42696),bn=a(47302),sr=a(78448),un=a.n(sr),ae=a(99448);bn.registerTransform(un().transform.regression);var In=W.Z.Title,Dn=["#cf39ff","#ff6666","#ff11f5"],or=function(z){var J=z.selectedModels,E=z.perfData,s=z.expect,Y=z.pressureField,ve=Y===void 0?"fullPressure":Y,G=(0,p.useState)(function(){var we=sessionStorage.getItem("xAxis");return we?(sessionStorage.removeItem("xAxis"),JSON.parse(we)):"flowRate"}),me=(0,r.Z)(G,2),N=me[0],We=me[1],Q=(0,p.useState)(function(){var we=sessionStorage.getItem("yAxis");return we?(sessionStorage.removeItem("yAxis"),JSON.parse(we)):ve=="fullPressure"?["fullPressure","shaftPower","fanEff"]:["staticPressure","shaftPower","fanEff"]}),je=(0,r.Z)(Q,2),se=je[0],xe=je[1],Ee=function(K){We(K);var te=JSON.stringify(K);sessionStorage.setItem("xAxis",te)},de=function(K){xe(K);var te=JSON.stringify(K);sessionStorage.setItem("yAxis",te)},pe=function(K,te,qe,Ge){for(var A=[],Be=[],et=0,Me=[],$e=0;$e<qe.length;$e++)Me.push(qe[$e]);if(qe.forEach(function(Fe){var Ce=Ge[Fe];if(Object.keys(Ce).length!=0)for(var le=0;le<te.length;le++){for(var Je=[],$=0;$<9;$+=1)Je.push([Ce[K][$],Ce[te[le]][$]]);Be.push(Je),A.push({name:"\u5B9E\u9645\u6570\u636E"+Fe,type:"scatter",clip:!0,data:Je,xAxisIndex:le,yAxisIndex:le,encode:{x:0,y:1,label:2,tooltip:1},color:De[et]});for(var ee=[],X=un().regression("polynomial",Je,2),ce=Ce[K].sort(function(Zt,Ae){return Zt-Ae}),M=ce[0],w=ce[Ce[K].length-1],Oe=X.parameter,Pe=M;Pe<w;Pe+=.01){var Pt=(Oe[2]*Pe*Pe+Oe[1]*Pe+Oe[0]).toFixed(3);ee.push([Pe,Pt])}A.push({name:Fe,type:"line",xAxisIndex:le,yAxisIndex:le,showSymbol:!1,clip:!0,data:ee,smooth:!0,color:De[et]})}et++}),s!=null){var Re=te.indexOf("fullPressure");Re!=-1&&(Me.push("\u9884\u671F-\u6D41\u91CF\u538B\u529B"),A.push({name:"\u9884\u671F-\u6D41\u91CF\u538B\u529B",type:"scatter",xAxisIndex:Re,yAxisIndex:Re,color:Dn[Re],showSymbol:!1,clip:!0,data:[[s==null?void 0:s.flowRate,s==null?void 0:s.pressure]]})),Re=te.indexOf("shaftPower"),Re!=-1&&(Me.push("\u9884\u671F-\u6D41\u91CF\u8F74\u529F\u7387"),A.push({name:"\u9884\u671F-\u6D41\u91CF\u8F74\u529F\u7387",type:"scatter",xAxisIndex:Re,yAxisIndex:Re,color:Dn[Re],showSymbol:!1,clip:!0,data:[[s==null?void 0:s.flowRate,s==null?void 0:s.usefulWork]]}))}var tt={data:Me};return{series:A,legend:tt}},De=["#229453","#2983bb","#bf3553","#6f70C6"],Ne={flowRate:"\u6D41\u91CFm\xB3/s",fullPressure:"\u538B\u529BPa",shaftPower:"\u8F74\u529F\u7387kw",fanEff:"\u98CE\u673A\u6548\u7387%"},ft=function(K,te,qe,Ge){for(var A=te.length,Be=[],et=[],Me=8,$e=Me*(A+1),Re=Math.round((100-$e)/A),tt=[],Fe=0;Fe<A;Fe++)tt[Fe]=Me*(Fe+1)+Re*Fe;for(var Ce=[],le=0;le<A;le++)Ce.push({top:tt[le]+"%",bottom:tt[A-le-1]+"%"});for(var Je=Ge[qe[0]],$=0;$<A;$++)Be.push({type:"value",name:Ne[K],axisLine:{show:!0},axisLabel:{formatter:"{value}"},min:function(w){var Oe=(0,ae.FE)((w.max-w.min)/Je[K].length,3),Pe=Math.floor(w.min-Oe>0?w.min-Oe:0);return Pe},max:function(w){var Oe=(0,ae.FE)((w.max-w.min)/Je[K].length,3),Pe=Math.ceil(w.max+Oe);return Pe},gridIndex:$,axisPointer:{snap:!0}}),et.push({type:"value",name:Ne[te[$]],alignTicks:!0,axisLine:{show:!0},axisLabel:{formatter:"{value}"},gridIndex:$});var ee=pe(K,te,qe,Ge),X=Ge==null?[]:ee.series,ce={color:De,tooltip:{trigger:"axis",axisPointer:{type:"cross",snap:!0}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},legend:{},xAxis:Be,yAxis:et,dataZoom:[{show:!0,type:"inside",filterMode:"none",xAxisIndex:[0]},{show:!0,type:"inside",filterMode:"none",yAxisIndex:[0]},{show:!0,type:"inside",filterMode:"none",xAxisIndex:[1]},{show:!0,type:"inside",filterMode:"none",yAxisIndex:[1]},{show:!0,type:"inside",filterMode:"none",xAxisIndex:[2]},{show:!0,type:"inside",filterMode:"none",yAxisIndex:[2]}],grid:Ce.slice(0,te.length),series:X};return ce.legend=ee.legend,console.log("o"),console.log(ce),ce};return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(Kt.Z,{title:"",headerBordered:!0,children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(L.Z,{justify:"space-around",align:"middle",children:[(0,e.jsxs)(Z.Z,{span:10,children:[(0,e.jsx)(In,{level:4}),"\u6A2A\u8F74\uFF1A",(0,e.jsx)(ut.Z,{defaultValue:N,style:{width:240},onChange:Ee,options:[{value:"flowRate",label:"\u6D41\u91CF"},{value:"fullPressure",label:"\u5168\u538B"},{value:"staticPressure",label:"\u9759\u538B"},{value:"shaftPower",label:"\u8F74\u529F\u7387"},{value:"fanEff",label:"\u98CE\u673A\u6548\u7387"}]})]}),(0,e.jsxs)(Z.Z,{span:10,children:[(0,e.jsx)(In,{level:4}),"\u7EB5\u8F74\uFF1A",(0,e.jsx)(ut.Z,{mode:"multiple",defaultValue:se,style:{width:240},onChange:de,options:[{value:"fullPressure",label:"\u5168\u538B"},{value:"staticPressure",label:"\u9759\u538B"},{value:"shaftPower",label:"\u8F74\u529F\u7387"},{value:"fanEff",label:"\u98CE\u673A\u6548\u7387"}]})]})]}),J.length!=Object.keys(E).length?null:(0,e.jsx)(ir.Z,{notMerge:!0,option:ft(N,se,J,E),lazyUpdate:!0,style:{height:400*se.length+"px"}})]})})})},ur=or,Mt=a(24323),dr=a(36571),cr=["type","defaultRender"];bn.registerTransform(un().transform.regression);var ta=W.Z.Text,dn={labelCol:{span:6},wrapperCol:{span:18,justify:"flex"}},fr=pt.Z.Group,hr=function(z){var J=(0,p.useState)(),E=(0,r.Z)(J,2),s=E[0],Y=E[1],ve=(0,p.useState)(!1),G=(0,r.Z)(ve,2),me=G[0],N=G[1],We=(0,nn.k6)(),Q=(0,p.useState)(1),je=(0,r.Z)(Q,2),se=je[0],xe=je[1],Ee=(0,p.useState)("fullPressure"),de=(0,r.Z)(Ee,2),pe=de[0],De=de[1],Ne=(0,p.useRef)(),ft=(0,p.useState)({}),we=(0,r.Z)(ft,2),K=we[0],te=we[1],qe=(0,p.useState)([]),Ge=(0,r.Z)(qe,2),A=Ge[0],Be=Ge[1],et=(0,p.useState)({}),Me=(0,r.Z)(et,2),$e=Me[0],Re=Me[1],tt=(0,p.useState)({current:1,pageSize:5}),Fe=(0,r.Z)(tt,2),Ce=Fe[0],le=Fe[1],Je=(0,p.useState)([]),$=(0,r.Z)(Je,2),ee=$[0],X=$[1],ce=Ze.Z.useForm(),M=(0,r.Z)(ce,1),w=M[0],Oe=(0,p.useRef)(),Pe=(0,e.jsx)("label",{style:{color:"#ff4d4f",display:"inline-block",marginLeft:4,marginRight:0,fontSize:14,fontFamily:"SimSun, sans-serif",lineHeight:1},children:"*"}),Pt=(0,p.useState)([]),Zt=(0,r.Z)(Pt,2),Ae=Zt[0],bt=Zt[1];(0,p.useEffect)(function(){var c=sessionStorage.getItem("similarSearchData"),n=void 0;c&&(n=JSON.parse(c),console.log("similarSearchData"),console.log(n),w.setFieldsValue(n),De(n.pressureField));var l=sessionStorage.getItem("orderData"),d;l&&(d=JSON.parse(l),console.log("orderData"),console.log(d),bt(d));var u=sessionStorage.getItem("expect");if(u!=null){var m,I=JSON.parse(u);console.log("expect"),console.log(I),I.specificSpeed!=null&&I.specificSpeed!=0&&N(!0),Y(I),console.log("similarSearchData"),console.log(n);var y={limitCategoryId:n.limitCategoryId,limitField:n.limitField,min:n.limitField!="unLimited"?n.min:void 0,max:n.limitField!="unLimited"?n.max:void 0,impellerDiameterMax:n.impellerDiameterMax,impellerDiameterMin:n.impellerDiameterMin,sortFields:d,specificSpeed:I.specificSpeed,sortFlowRate:I.flowRate,sortFullPressure:n.pressureField=="fullPressure"?I.pressure:void 0,sortStaticPressure:n.pressureField=="staticPressure"?I.pressure:void 0,pressureField:n.pressureField,sortMotorSpeed:I.motorSpeed};console.log("searchParams"),console.log(y),te(y),(m=Ne.current)===null||m===void 0||m.reload();var v=sessionStorage.getItem("selectedRowKeys");v&&Be(JSON.parse(v))}},[]);var Ut=(0,p.useState)({}),Ot=(0,r.Z)(Ut,2),cn=Ot[0],Gt=Ot[1],fn=(0,p.useState)([]),At=(0,r.Z)(fn,2),ne=At[0],nt=At[1];(0,p.useEffect)(function(){var c;(c=Ne.current)===null||c===void 0||c.reload()},[K]),(0,p.useEffect)(function(){console.log("useEffect"),console.log("fansData"),console.log(ne),console.log(w.getFieldValue("limitField")),w.getFieldValue("limitField")=="flowRate"&&ne.length>0&&ne[0].impellerDiameterMedian?(0,ct.qX)(A).then(function(c){for(var n=0;n<A.length;n++){var l=A[n];console.log(A),console.log(A[n]);var d=0;for(var u in ne){if(ne[u].model==l)break;d++}if(d==ne.length)console.log("\u672A\u627E\u5230\u5BF9\u5E94\u4FE1\u606F");else{var m=c.data[l];if(console.log("item:"+l),console.log(m),console.log(ne[d]),ne[d]&&ne[d].impellerDiameterMedian)for(var I=ne[d].impellerDiameterMedian/ne[d].impellerDiameter,y=0;y<m.flowRate.length;y++){var v=m.flowRate[y]*Math.pow(I,3);m.flowRate[y]=(0,ae.FE)(v,3),v=m.fullPressure[y]*Math.pow(I,2),m.fullPressure[y]=(0,ae.FE)(v,1),v=m.staticPressure[y]*Math.pow(I,2),m.staticPressure[y]=(0,ae.FE)(v,1),v=m.shaftPower[y]*Math.pow(I,5),m.shaftPower[y]=(0,ae.FE)(v,3),m.impellerDiameter[y]=ne[d].impellerDiameterMedian}if(K.sortMotorSpeed)for(var Ie=K.sortMotorSpeed/ne[d].motorSpeed,fe=0;fe<m.flowRate.length;fe++){var re=m.flowRate[fe]*Math.pow(Ie,1);m.flowRate[fe]=(0,ae.FE)(re,3),re=m.fullPressure[fe]*Math.pow(Ie,2),m.fullPressure[fe]=(0,ae.FE)(re,1),re=m.staticPressure[fe]*Math.pow(Ie,2),m.staticPressure[fe]=(0,ae.FE)(re,1),re=m.shaftPower[fe]*Math.pow(Ie,3),m.shaftPower[fe]=(0,ae.FE)(re,3),m.impellerDiameter[fe]=K.sortMotorSpeed}}console.log("\u76F8\u4F3C\u53D8\u6362 res.data"),console.log(c.data),Gt(c.data)}}):(0,ct.qX)(A).then(function(c){console.log("\u539F\u59CB\u6570\u636E origin.data"),console.log(c.data),Gt(c.data)})},[A,ne]);var $t=function(n){console.log("onFinish"),console.log(n);var l=JSON.stringify(A);sessionStorage.setItem("selectedRowKeys",l);var d=JSON.stringify(Ae);sessionStorage.setItem("orderData",d),n.pressureField=pe;var u=JSON.stringify(n);console.log("\u5B58\u50A8\u586B\u5199\u4FE1\u606F similarSearchData"),console.log(u),sessionStorage.setItem("similarSearchData",u),N(!0);var m=n.flowRate,I=n.pressure,y=n.motorSpeed,v=n.impellerDiameterMin,Ie=n.impellerDiameterMax,fe=n.altitude,re=n.temperature;m=m/se,I=(0,ae.A2)(I,fe,re,1);var F=0;I!=0&&y!=0&&y!=null&&I!=null&&(F=(0,ae.FH)(y,m,I,3));var jt=0,Dt=0,gt;Ie&&v&&(gt=(Ie+v)/2),console.log("impellerDiameter"),console.log(gt),gt!=null&&y!=null&&(jt=(0,ae.jm)(m,y,gt,3),Dt=(0,ae.do)(I,y,gt,3));var O=(0,ae.FE)(m*I/1e3,2);Y({usefulWork:O,density:1.205,flowRate:m,pressure:I,motorSpeed:y,specificSpeed:F,flowCoefficient:jt,pressureCoefficient:Dt});var Qt=JSON.stringify({usefulWork:O,density:1.205,flowRate:m,pressure:I,motorSpeed:y,specificSpeed:F,flowCoefficient:jt,pressureCoefficient:Dt});return sessionStorage.setItem("expect",Qt),{usefulWork:O,density:1.205,flowRate:m,pressure:I,motorSpeed:y,specificSpeed:F,flowCoefficient:jt,pressureCoefficient:Dt}},hn=function(n,l,d){},be=function(n,l){if(l){var d=Array.from(new Set([].concat((0,Et.Z)(A),[n.model])));console.log("ssssss"),console.log(d),Be(d);var u=JSON.stringify(d);sessionStorage.setItem("selectedRowKeys",u)}else{var m=[];A.forEach(function(y){n.model!=y&&m.push(y)}),console.log("ssssss"),console.log(m),Be(m);var I=JSON.stringify(m);sessionStorage.setItem("selectedRowKeys",I)}},rt=function(n,l){var d=w.getFieldsValue();d.pressureField=pe,sessionStorage.setItem("similarSearchData",JSON.stringify(d));var u=JSON.stringify(A);sessionStorage.setItem("selectedRowKeys",u);var m=JSON.stringify(Ae);if(sessionStorage.setItem("orderData",m),console.log("\u5B58\u50A8\u9884\u671F\u53C2\u6570orderData"),console.log(m),s!=null){var I=JSON.stringify(s);sessionStorage.setItem("expect",I)}We.push({pathname:"/fans/detail",state:{model:l.model,activeKey:"2"}})},pn=function(n,l){var d=w.getFieldsValue();d.pressureField=pe;var u=JSON.stringify(d);sessionStorage.setItem("similarSearchData",u);var m=JSON.stringify(A);sessionStorage.setItem("selectedRowKeys",m);var I=JSON.stringify(Ae);if(sessionStorage.setItem("orderData",I),console.log("\u5B58\u50A8\u9884\u671F\u53C2\u6570 orderData"),console.log(Ae),s!=null){var y=JSON.stringify(s);sessionStorage.setItem("expect",y)}console.log("searchParams"),console.log(K),l.impellerDiameterMedian?We.push({pathname:"/fans/similarDesign/detail",state:{model:l.model,type:K.sortMotorSpeed?"11":"10",impellerDiameterMedian:l.impellerDiameterMedian,impellerDiameterRange:l.impellerDiameterRange,sortMotorSpeed:K.sortMotorSpeed,flowRate:d.flowRate,pressureRange:[s.pressure*(1-d.min/100),s.pressure*(1+d.max/100)],limitField:d.limitField,pressureField:pe}}):We.push({pathname:"/fans/similarDesign/detail",state:{model:l.model,type:"",limitField:d.limitField}})},Jt=function(n,l){l!=null&&(console.log("changeValues"),console.log(n),$t(w.getFieldsValue()))},It=[{title:"\u538B\u529B\u504F\u5DEE",value:"absPressureDeviation",key:"absPressureDeviation"},{title:"\u6548\u7387",value:"efficiency",key:"efficiency"},{title:"\u566A\u97F3",value:"noise",key:"noise"}],kt=[{title:"\u6392\u5E8F",key:"order",hideInTable:!0,hideInSearch:!1,dataIndex:"order",renderFormItem:function(n,l,d){var u=l.type,m=l.defaultRender,I=(0,ot.Z)(l,cr);return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(rr.Z,{treeData:It,value:Ae,onChange:function(v){console.log(v),bt(v);var Ie=JSON.stringify(v);sessionStorage.setItem("orderData",Ie),te((0,C.Z)((0,C.Z)({},K),{},{sortFields:v}))},treeCheckable:!0,placeholder:"\u8BF7\u9009\u62E9",style:{width:"100%"},tagRender:function(v){return(0,e.jsx)(on.Z,{closable:!0,onClose:v.onClose,children:(0,e.jsxs)(xt.Z,{align:"center",style:{padding:2},children:[(0,e.jsx)(ar.Z,{color:"#87d068",count:Ae.indexOf(v.value)+1,size:"small"}),v.label]})})}})})}},{title:"\u5E8F\u53F7",dataIndex:"key",valueType:"index",align:"center",hideInSearch:!0,width:80,render:function(n,l,d){var u=(Ce.current-1)*Ce.pageSize+(d+1);return u}},{title:"\u578B\u53F7",dataIndex:"model",valueType:"textarea",align:"center",hideInSearch:!0,width:80},{title:"\u6D41\u91CF",dataIndex:"flowRate",valueType:"digit",align:"center",hideInSearch:!0,width:80},{title:"\u8F6C\u901F",dataIndex:"motorSpeed",valueType:"digit",align:"center",hideInSearch:!0,width:80,render:function(n,l,d){return console.log(l.similarMotorSpeed),l.similarMotorSpeed!=null?(0,e.jsxs)(e.Fragment,{children:[l.motorSpeed,"/",(0,e.jsx)("label",{style:{color:"#52c41a"},children:l.similarMotorSpeed.toString()})]}):l.motorSpeed}},{title:"\u5168\u538B",dataIndex:"similarFullPressure",valueType:"digit",align:"center",hideInSearch:!0,render:function(n,l,d){return console.log(l.fullPressureDeviation),console.log(l.similarFullPressure),l.similarFullPressure!=null&&l.fullPressureDeviation!=null?(0,e.jsxs)("label",{style:{color:"#52c41a"},children:[l.similarFullPressure.toString(),"(",l.fullPressureDeviation.toString(),"%)"]}):l.similarFullPressure!=null?(0,e.jsx)("label",{style:{color:"#52c41a"},children:l.similarFullPressure.toString()}):l.fullPressure},width:80},{title:"\u9759\u538B",dataIndex:"staticPressure",valueType:"digit",align:"center",width:80,hideInSearch:!0,render:function(n,l,d){return console.log(l.similarStaticPressure),console.log(l.staticPressureDeviation),l.similarStaticPressure!=null&&l.staticPressureDeviation!=null?(0,e.jsxs)("label",{style:{color:"#52c41a"},children:[l.similarStaticPressure.toString(),"(",l.staticPressureDeviation.toString(),"%)"]}):l.similarStaticPressure!=null?(0,e.jsx)("label",{style:{color:"#52c41a"},children:l.similarStaticPressure.toString()}):l.staticPressure}},{title:"\u6548\u7387",dataIndex:"efficiency",valueType:"digit",align:"center",hideInSearch:!0,width:80},{title:"\u8F74\u529F\u7387",dataIndex:"shaftPower",valueType:"digit",align:"center",hideInSearch:!0,width:100,render:function(n,l,d){return l.similarShaftPower!=null?(0,e.jsxs)(e.Fragment,{children:[l.shaftPower,"/",(0,e.jsx)("label",{style:{color:"#52c41a"},children:l.similarShaftPower.toString()})]}):l.shaftPower}},{title:"\u53F6\u8F6E\u76F4\u5F84",dataIndex:"impellerDiameterMedian",valueType:"textarea",align:"center",hideInSearch:!0,width:160,render:function(n,l,d){return l.impellerDiameterRange!=null&&l.impellerDiameterRange.length==2?(0,e.jsxs)(e.Fragment,{children:[l.impellerDiameter,"/",(0,e.jsxs)("label",{style:{color:"#52c41a"},children:[l.impellerDiameterMedian,"(",l.impellerDiameterRange[0].toString(),"~",l.impellerDiameterRange[1].toString(),")"]})]}):l.impellerDiameter}},{title:"\u7535\u673A\u578B\u53F7",dataIndex:"motorModel",valueType:"textarea",align:"center",hideInSearch:!0,width:160},{title:"\u64CD\u4F5C",valueType:"option",key:"option",align:"center",width:150,render:function(n,l){return[(0,e.jsx)("a",{onClick:function(){return rt(n,l)},children:"\u8BE6\u60C5"},"detail"),me?(0,e.jsx)("a",{onClick:function(){return pn(n,l)},children:"\u76F8\u4F3C\u8BBE\u8BA1"},"design"):null]}}],Ht=function(n,l,d,u){console.log("beforeSearchSubmit");var m={};u!=null&&(m={specificSpeed:u.specificSpeed,sortFlowRate:u.flowRate,sortPressure:u.pressure,pressureField:u.pressureField,sortMotorSpeed:u.motorSpeed}),n=(0,C.Z)((0,C.Z)((0,C.Z)({},d),m),{},{sortFields:Ae}),console.log("setSearchParams"),console.log(n),te(n)},mn=[{label:"\u8F74\u6D41",value:"\u8F74\u6D41\u901A\u98CE\u673A"},{label:"\u79BB\u5FC3",value:"\u79BB\u5FC3\u901A\u98CE\u673A"},{label:"\u6DF7\u6D41",value:"\u6DF7\u6D41\u901A\u98CE\u673A"}],Yt=(0,p.useState)([]),gn=(0,r.Z)(Yt,2),vn=gn[0],xn=gn[1],Sn=(0,p.useState)(),Vt=(0,r.Z)(Sn,2),k=Vt[0],Ke=Vt[1],yn=function(n){return{onDoubleClick:function(d){console.log(d),d.stopPropagation(),console.log("form.getFieldValue('limitField')"),console.log(w.getFieldValue("limitField")),w.getFieldValue("limitField")=="flowRate"&&n.impellerDiameterMedian?(0,ct.Wi)(n.model).then(function(u){for(var m=n.impellerDiameterMedian/n.impellerDiameter,I=0;I<u.data.length;I++){var y=u.data[I],v=y.flowRate*Math.pow(m,3);y.flowRate=(0,ae.FE)(v,3),v=y.fullPressure*Math.pow(m,2),y.fullPressure=(0,ae.FE)(v,1),v=y.staticPressure*Math.pow(m,2),y.staticPressure=(0,ae.FE)(v,1),v=y.shaftPower*Math.pow(m,5),y.shaftPower=(0,ae.FE)(v,3),y.impellerDiameter=n.impellerDiameterMedian,y.key=I,u.data[I]=y}if(n.similarMotorSpeed)for(var Ie=n.similarMotorSpeed/n.motorSpeed,fe=0;fe<u.data.length;fe++){var re=u.data[fe],F=re.flowRate*Math.pow(Ie,1);re.flowRate=(0,ae.FE)(F,3),F=re.fullPressure*Math.pow(Ie,2),re.fullPressure=(0,ae.FE)(F,1),F=re.staticPressure*Math.pow(Ie,2),re.staticPressure=(0,ae.FE)(F,1),F=re.shaftPower*Math.pow(Ie,3),re.shaftPower=(0,ae.FE)(F,3),re.motorSpeed=n.similarMotorSpeed,re.key=fe,u.data[fe]=re}xn(u.data),Ke(n.model)}).catch(function(u){console.log(u),S.default.error("\u8BF7\u6C42\u5931\u8D25\uFF01")}):(0,ct.Wi)(n.model).then(function(u){xn(u.data),Ke(n.model)}).catch(function(u){console.log(u),S.default.error("\u8BF7\u6C42\u5931\u8D25\uFF01")})}}},Zn=(0,p.useRef)(),oe=[],Ve=[];for(var jn in Mt.rU)Ve.push(jn.toString());for(var at=0;at<Ve.length;at++)["specificSpeed","u","flowCoefficient","pressureCoefficient"].includes(Mt.rU[Ve[at]])||(["flowRate","fullPressure","staticPressure","shaftPower","impellerDiameter"].includes(Mt.rU[Ve[at]])?oe.push({title:Ve[at],dataIndex:Mt.rU[Ve[at]],valueType:"digit",width:80,render:function(n,l){return(0,e.jsx)(W.Z.Text,{type:"success",children:n})}}):oe.push({title:Ve[at],dataIndex:Mt.rU[Ve[at]],valueType:"digit",width:80}));return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(Kt.Z,{split:"vertical",className:Ct().inputNum1,children:[(0,e.jsxs)(Kt.Z,{colSpan:7,size:"small",bodyStyle:{paddingRight:"10px"},children:[(0,e.jsxs)(Ze.Z,(0,C.Z)((0,C.Z)({},dn),{},{name:"nest-messages",form:w,className:Ct().formItem,onValuesChange:function(n){return Jt(n,s)},children:[(0,e.jsx)(L.Z,{wrap:!1,gutter:6,align:"middle",children:(0,e.jsx)(Z.Z,{span:24,children:(0,e.jsx)(Ze.Z.Item,{name:"limitCategoryId",label:"\u9009\u62E9\u7CFB\u5217",labelCol:{span:5},initialValue:["\u8F74\u6D41\u901A\u98CE\u673A","\u79BB\u5FC3\u901A\u98CE\u673A","\u6DF7\u6D41\u901A\u98CE\u673A"],children:(0,e.jsx)(fr,{options:mn,onChange:function(n){console.log("list"),console.log(n),w.setFieldValue("category",n)}})})})}),(0,e.jsx)(Bt.Z,{children:"\u8F93\u5165\u5DE5\u4F5C\u53C2\u6570\uFF1A",orientation:"left"}),(0,e.jsx)(L.Z,{wrap:!1,gutter:6,align:"middle",children:(0,e.jsx)(Z.Z,{span:20,children:(0,e.jsx)(Ze.Z.Item,{name:"flowRate",label:"\u6D41\u91CF",labelCol:{span:6},rules:[{required:!0},{type:"number"}],children:(0,e.jsx)(ue.Z,{min:0,size:"middle",style:{width:"100%"},addonAfter:(0,e.jsx)(ut.Z,{value:se,options:[{label:"m\xB3/s",value:1},{label:"m\xB3/min",value:60},{label:"m\xB3/h",value:3600}],onChange:function(n){return xe(n)}})})})})}),(0,e.jsxs)(L.Z,{wrap:!1,gutter:6,align:"middle",justify:"start",children:[(0,e.jsx)(Z.Z,{span:5,children:(0,e.jsxs)(L.Z,{wrap:!1,justify:"end",align:"middle",children:[(0,e.jsx)(Z.Z,{style:{paddingBottom:6},children:(0,e.jsx)("div",{className:Ct().select,children:(0,e.jsx)(ut.Z,{bordered:!1,value:pe,options:[{label:(0,e.jsxs)(e.Fragment,{children:[" ",Pe," \u5168\u538B "]}),value:"fullPressure"},w.getFieldValue("limitField")=="flowRate"?{label:(0,e.jsxs)(e.Fragment,{children:[" ",Pe," \u9759\u538B "]}),value:"staticPressure"}:{}],onChange:function(n){console.log("value"),console.log(n),De(n)}})})}),(0,e.jsx)(Z.Z,{style:{paddingBottom:12},children:(0,e.jsx)(W.Z.Text,{children:":"})})]})}),(0,e.jsx)(Z.Z,{span:15,children:(0,e.jsx)(Ze.Z.Item,{name:"pressure",wrapperCol:{},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u538B\u529B!"}],children:(0,e.jsx)(ue.Z,{min:1,style:{width:"100%"},size:"middle",onClick:function(n){console.log(n)}})})}),(0,e.jsx)(Z.Z,{span:1,style:{marginBottom:12},children:"Pa"})]}),(0,e.jsxs)(ie.Z,{style:{marginBottom:10},className:Ct().cardBody,children:[(0,e.jsxs)(L.Z,{wrap:!1,align:"middle",gutter:6,justify:"start",children:[(0,e.jsx)(Z.Z,{span:12,children:(0,e.jsx)(Ze.Z.Item,{label:"\u8BEF\u5DEE",name:"min",labelCol:{span:10},initialValue:5,rules:[function(c){var n=c.getFieldValue;return{validator:function(d,u){return u>n("min")?Promise.reject("\u6700\u5C0F\u503C\u672A\u5C0F\u4E8E\u6700\u5927\u503C!"):Promise.resolve()}}}],children:(0,e.jsx)(ue.Z,{min:0,max:20,addonBefore:"-",style:{width:"100%",textAlign:"center"},placeholder:"\u6700\u5C0F\u503C",onChange:function(n){n&&w.setFieldValue("min",n)}})})}),(0,e.jsx)(Z.Z,{span:1,style:{marginBottom:12},children:"~"}),(0,e.jsx)(Z.Z,{span:7,children:(0,e.jsx)(Ze.Z.Item,{name:"max",wrapperCol:{},initialValue:5,rules:[function(c){var n=c.getFieldValue;return{validator:function(d,u){return u<n("max")?Promise.reject("\u6700\u5927\u503C\u672A\u5927\u4E8E\u6700\u5C0F\u503C!"):Promise.resolve()}}}],children:(0,e.jsx)(ue.Z,{style:{width:"100%",textAlign:"center"},addonBefore:"+",max:20,min:0,placeholder:"\u6700\u5927\u503C",onChange:function(n){w.setFieldValue("max",n)}})})}),(0,e.jsx)(Z.Z,{flex:1,style:{marginBottom:12},children:"%"})]}),(0,e.jsx)(L.Z,{wrap:!1,gutter:6,align:"middle",style:{marginBottom:0},children:(0,e.jsx)(Z.Z,{span:24,children:(0,e.jsx)(Ze.Z.Item,{name:"limitField",label:"\u9650\u5B9A",labelCol:{span:5},className:Ct().formItem1,initialValue:"flowRate",children:(0,e.jsxs)(sn.ZP.Group,{value:w.getFieldValue("limitField"),onChange:function(n){var l=n.target.value;console.log("value"),console.log(l),l=="unLimited"&&De("fullPressure"),w.setFieldValue("limitField",l)},children:[(0,e.jsx)(sn.ZP,{value:"flowRate",children:"\u6D41\u91CF"}),(0,e.jsx)(sn.ZP,{value:"unLimited",children:"\u4E0D\u9650\u5B9A"})]})})})})]}),(0,e.jsxs)(L.Z,{wrap:!1,gutter:6,children:[(0,e.jsx)(Z.Z,{span:20,children:(0,e.jsx)(Ze.Z.Item,{name:"motorSpeed",label:"\u8F6C\u901F",labelCol:{span:6},rules:[{required:!0},{type:"number"}],children:(0,e.jsx)(ue.Z,{min:1,size:"middle"})})}),(0,e.jsx)(Z.Z,{style:{marginBottom:12},children:"r/min"})]}),(0,e.jsxs)(L.Z,{wrap:!1,align:"middle",gutter:6,justify:"start",children:[(0,e.jsx)(Z.Z,{span:12,children:(0,e.jsx)(Ze.Z.Item,{label:"\u53F6\u8F6E\u76F4\u5F84",name:"impellerDiameterMin",labelCol:{span:10},rules:[function(c){var n=c.getFieldValue;return{validator:function(d,u){return u>n("impellerDiameterMax")?Promise.reject("\u6700\u5C0F\u503C\u672A\u5C0F\u4E8E\u6700\u5927\u503C!"):Promise.resolve()}}}],children:(0,e.jsx)(ue.Z,{min:1,style:{width:"100%",textAlign:"center"},placeholder:"\u6700\u5C0F\u503C",onChange:function(n){}})})}),(0,e.jsx)(Z.Z,{span:1,style:{marginBottom:12},children:"~"}),(0,e.jsx)(Z.Z,{span:7,children:(0,e.jsx)(Ze.Z.Item,{name:"impellerDiameterMax",wrapperCol:{},rules:[function(c){var n=c.getFieldValue;return{validator:function(d,u){return u<n("impellerDiameterMin")?Promise.reject("\u6700\u5927\u503C\u672A\u5927\u4E8E\u6700\u5C0F\u503C!"):Promise.resolve()}}}],children:(0,e.jsx)(ue.Z,{min:1,style:{width:"100%",textAlign:"center"},placeholder:"\u6700\u5927\u503C",onChange:function(n){}})})}),(0,e.jsx)(Z.Z,{flex:1,style:{marginBottom:12},children:"mm"})]}),(0,e.jsxs)(L.Z,{gutter:16,children:[(0,e.jsx)(Z.Z,{lg:12,md:12,sm:24,children:(0,e.jsxs)(L.Z,{wrap:!1,gutter:6,align:"middle",children:[(0,e.jsx)(Z.Z,{children:(0,e.jsx)(Ze.Z.Item,{name:"altitude",label:"\u6D77\u62D4",labelCol:{sm:12,md:12,lg:11},rules:[{required:!0},{type:"number"}],initialValue:0,children:(0,e.jsx)(ue.Z,{min:0,size:"middle"})})}),(0,e.jsx)(Z.Z,{style:{marginBottom:12},children:"m"})]})}),(0,e.jsx)(Z.Z,{lg:12,md:12,sm:24,children:(0,e.jsxs)(L.Z,{wrap:!1,gutter:6,align:"middle",children:[(0,e.jsx)(Z.Z,{children:(0,e.jsx)(Ze.Z.Item,{name:"temperature",label:"\u6E29\u5EA6",labelCol:{sm:12,md:12,lg:8},rules:[{required:!0},{type:"number"}],initialValue:20,children:(0,e.jsx)(ue.Z,{min:0,size:"middle"})})}),(0,e.jsx)(Z.Z,{style:{marginBottom:12},children:"\u2103"})]})})]}),(0,e.jsxs)(L.Z,{gutter:16,children:[(0,e.jsx)(Z.Z,{lg:12,md:12,sm:24,children:(0,e.jsxs)(L.Z,{wrap:!1,gutter:6,align:"middle",children:[(0,e.jsx)(Z.Z,{children:(0,e.jsx)(Ze.Z.Item,{name:"humidity",label:"\u6E7F\u5EA6",labelCol:{sm:12,md:12,lg:11},rules:[{required:!0},{type:"number"}],initialValue:50,children:(0,e.jsx)(ue.Z,{min:0,size:"middle"})})}),(0,e.jsx)(Z.Z,{style:{marginBottom:12},children:"%"})]})}),(0,e.jsx)(Z.Z,{lg:12,md:12,sm:24,children:(0,e.jsxs)(L.Z,{wrap:!1,gutter:6,align:"middle",children:[(0,e.jsx)(Z.Z,{children:(0,e.jsx)(Ze.Z.Item,{name:"atmosphericPressure",label:"\u5927\u6C14\u538B",labelCol:{sm:12,md:12,lg:8},rules:[{required:!0},{type:"number"}],initialValue:101325,children:(0,e.jsx)(ue.Z,{min:0,size:"middle"})})}),(0,e.jsx)(Z.Z,{style:{marginBottom:12},children:"Pa"})]})})]}),(0,e.jsxs)(L.Z,{wrap:!1,justify:"center",gutter:16,align:"middle",children:[(0,e.jsx)(Z.Z,{children:(0,e.jsx)(Ze.Z.Item,{wrapperCol:(0,C.Z)({},dn.wrapperCol),children:(0,e.jsx)(He.Z,{onClick:function(){w.resetFields(),sessionStorage.removeItem("expect"),sessionStorage.removeItem("similarSearchData"),sessionStorage.removeItem("orderData"),sessionStorage.removeItem("selectedRowKeys"),N(!1),Y(void 0),bt([]),te((0,C.Z)((0,C.Z)({},K),{},{specificSpeed:void 0,sortFlowRate:void 0,sortPressure:void 0,sortMotorSpeed:void 0,limitField:void 0}))},children:"\u91CD\u7F6E"})})}),(0,e.jsx)(Z.Z,{children:(0,e.jsx)(Ze.Z.Item,{wrapperCol:(0,C.Z)((0,C.Z)({},dn.wrapperCol),{},{offset:8}),children:(0,e.jsx)(He.Z,{type:"primary",onClick:(0,ye.Z)((0,x.Z)().mark(function c(){var n,l,d,u,m;return(0,x.Z)().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.prev=0,Be([]),sessionStorage.setItem("selectedRowKeys",JSON.stringify([])),Ke(void 0),y.next=6,w.validateFields();case 6:l=y.sent,console.log("\u67E5\u8BE2\u7B26\u5408\u6761\u4EF6\u7684\u98CE\u673A\u578B\u53F7result"),console.log(l),d=$t(l),console.log("\u8BBE\u7F6Etable\u7684params \u7136\u540E\u5237\u65B0table"),l.limitField!="unLimited"&&Ae.length==0&&bt(["absPressureDeviation"]),console.log("value"),console.log(Ae),u=(0,C.Z)((0,C.Z)({},K),{},{current:1,specificSpeed:d==null?void 0:d.specificSpeed,sortFlowRate:d==null?void 0:d.flowRate,pressureField:pe,sortFullPressure:pe=="fullPressure"?d==null?void 0:d.pressure:void 0,sortStaticPressure:pe=="staticPressure"?d==null?void 0:d.pressure:void 0,sortMotorSpeed:d==null?void 0:d.motorSpeed,limitCategoryId:l.limitCategoryId,limitField:l.limitField,min:l.limitField!="unLimited"?l.min:void 0,max:l.limitField!="unLimited"?l.max:void 0,impellerDiameterMax:l.impellerDiameterMax,impellerDiameterMin:l.impellerDiameterMin,sortFields:l.limitField!="unLimited"&&Ae.length==0?["absPressureDeviation"]:Ae}),te(u),N(!0),le({current:1,pageSize:Ce.pageSize}),(n=Ne.current)===null||n===void 0||n.reload(!0),y.next=23;break;case 21:y.prev=21,y.t0=y.catch(0);case 23:m={actionName:"\u76F8\u4F3C\u8BBE\u8BA1-\u67E5\u8BE2",actionId:"searchParams",actionType:"\u67E5\u8BE2",pageUrl:window.location.href,pageName:"\u98CE\u673A\u5E73\u53F0",element:"\u76F8\u4F3C\u8BBE\u8BA1"},(0,dr.yy)({params:m}).catch(function(v){});case 25:case"end":return y.stop()}},c,null,[[0,21]])})),children:"\u67E5\u8BE2"})})})]})]})),(0,e.jsx)(Bt.Z,{}),s==null?null:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(Le.Z,{title:"\u6807\u51C6\u6761\u4EF6",labelStyle:{justifyContent:"flex-end",minWidth:90},column:2,children:[(0,e.jsx)(Le.Z.Item,{label:"\u6D41\u91CF",children:(s==null?void 0:s.flowRate)==0?"/":(s==null?void 0:s.flowRate)+"m\xB3/s"}),(0,e.jsx)(Le.Z.Item,{label:"\u538B\u529B",children:(s==null?void 0:s.pressure)==0?"/":(s==null?void 0:s.pressure)+"Pa"}),(0,e.jsx)(Le.Z.Item,{label:"\u6709\u7528\u529FQ*Pt",children:(s==null?void 0:s.usefulWork)==0?"/":(s==null?void 0:s.usefulWork)+"kW"}),(0,e.jsx)(Le.Z.Item,{label:"\u5BC6\u5EA6",children:(s==null?void 0:s.density)==0?"/":(s==null?void 0:s.density)+"kg/m\xB3"})]}),(0,e.jsx)(Bt.Z,{style:{marginTop:0,marginBottom:10}}),(0,e.jsxs)(Le.Z,{labelStyle:{justifyContent:"flex-end",minWidth:90},column:2,children:[(0,e.jsx)(Le.Z.Item,{label:"\u5927\u6C14\u538B\u529B ",children:"101.325kPa"}),(0,e.jsx)(Le.Z.Item,{label:"\u6E29\u5EA6 ",children:"20\u2103"}),(0,e.jsx)(Le.Z.Item,{label:"\u6E7F\u5EA6",children:"50%"}),(0,e.jsx)(Le.Z.Item,{label:"\u6D77\u62D4 ",children:"0m"})]}),(0,e.jsxs)(Le.Z,{title:"\u65E0\u56E0\u6B21\u53C2\u6570",labelStyle:{justifyContent:"flex-end",minWidth:90},column:2,children:[(0,e.jsx)(Le.Z.Item,{label:(0,e.jsx)(Pn.Z,{title:"\u6D41\u91CF\u7CFB\u6570\u7684\u8BA1\u7B97\u53F6\u8F6E\u76F4\u5F84\u53D6\u8F93\u5165\u8303\u56F4\u4E2D\u503C",children:" \u6D41\u91CF\u7CFB\u6570 "}),children:(s==null?void 0:s.flowCoefficient)==0?"/":s==null?void 0:s.flowCoefficient}),(0,e.jsx)(Le.Z.Item,{label:(0,e.jsx)(Pn.Z,{title:"\u538B\u529B\u7CFB\u6570\u7684\u8BA1\u7B97\u53F6\u8F6E\u76F4\u5F84\u53D6\u8F93\u5165\u8303\u56F4\u4E2D\u503C",children:" \u538B\u529B\u7CFB\u6570 "}),children:(s==null?void 0:s.pressureCoefficient)==0?"/":s==null?void 0:s.pressureCoefficient}),(0,e.jsx)(Le.Z.Item,{label:"\u6BD4\u8F6C\u901F ",children:(s==null?void 0:s.specificSpeed)==0?"/":s==null?void 0:s.specificSpeed})]})]})]}),(0,e.jsxs)(Kt.Z,{colSpan:17,size:"small",bodyStyle:{paddingRight:"0px",paddingLeft:0},children:[(0,e.jsx)(tn.ZP,{columns:kt,actionRef:Ne,search:{labelWidth:"auto",span:12,defaultCollapsed:!1,style:{paddingTop:0,paddingBottom:0},className:Ct().tableSearch,optionRender:function(n,l,d){var u=n.searchText,m=n.resetText,I=l.form;return[]}},options:!1,rowSelection:{selectedRowKeys:A,onSelect:be,columnTitle:{},getCheckboxProps:function(n){return A.length<4?{disabled:!1}:{disabled:A.indexOf(n.model)==-1}}},onRow:yn,tableAlertRender:!1,rowKey:"model",params:K,request:function(){var c=(0,ye.Z)((0,x.Z)().mark(function n(l){var d;return(0,x.Z)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return console.log("request params"),console.log(l),l=(0,C.Z)({},l),m.next=5,(0,ct.vC)(l);case 5:return d=m.sent,nt(d.data),nt(d.data),m.abrupt("return",d);case 9:case"end":return m.stop()}},n)}));return function(n){return c.apply(this,arguments)}}(),pagination:(0,C.Z)((0,C.Z)({},Ce),{},{defaultPageSize:10,showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:["5","10","20","50"]}),onChange:function(n){console.log("2222"),console.log({current:n.current,pageSize:n.pageSize}),le({current:n.current,pageSize:n.pageSize}),te((0,C.Z)((0,C.Z)({},K),{},{current:n.current,pageSize:n.pageSize}))}}),k==null?(0,e.jsx)(Bt.Z,{}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Bt.Z,{children:"\u578B\u53F7-"+k+":",orientation:"left"}),(0,e.jsx)(tn.ZP,{size:"small",search:!1,options:!1,pagination:!1,columns:oe,rowKey:"key",dataSource:vn})]}),A.length==0?null:(0,e.jsx)(ur,{selectedModels:A,perfData:cn,expect:s,pressureField:pe})]})]})})},pr=hr,mt=a(72519),mr=a(84420),zt=a.n(mr),na=a(54421),Rn=a(38272),gr=a(12799),vr=a.n(gr),Tn=a(52409),xr=function(z){var J,E=z.fanType,s=z.fanData,Y=(0,p.useState)(null),ve=(0,r.Z)(Y,2),G=ve[0],me=ve[1],N=(0,p.useState)(!1),We=(0,r.Z)(N,2),Q=We[0],je=We[1],se=s.filter(function(Ee){return Ee.label===E}),xe=function(de){me(de),je(!0)};return console.log("####fanDataClass#####",se,se.length>0?se[0].sheet:null),(0,e.jsx)("div",{className:vr().system,style:{height:900},children:(0,e.jsxs)(L.Z,{gutter:16,children:[(0,e.jsx)(Z.Z,{span:Q?0:9,children:(0,e.jsxs)(ie.Z,{title:(0,e.jsx)("div",{style:{fontSize:18,color:"#1890f"},children:E}),children:[(0,e.jsxs)("div",{style:{fontSize:14,fontWeight:600},children:[" ",(0,e.jsx)(Tn.Z,{}),"\xA0\u7B80\u4ECB"]}),(0,e.jsx)("div",{style:{fontSize:14},children:se.length>0?se[0].label_description:null}),(0,e.jsx)("br",{}),(0,e.jsxs)("div",{style:{fontSize:14,fontWeight:600},children:[" ",(0,e.jsx)(Tn.Z,{}),"\xA0\u6027\u80FD\u53C2\u6570\u8868"]}),(0,e.jsx)("img",{alt:"example",src:(J=se[0])===null||J===void 0?void 0:J.sheet})]})}),(0,e.jsx)(Z.Z,{span:Q?6:15,children:(0,e.jsx)(Rn.ZP,{grid:{gutter:16,column:Q?1:3},dataSource:se,renderItem:function(de){return(0,e.jsx)(Rn.ZP.Item,{children:(0,e.jsx)("div",{onClick:function(){return xe(de)},children:(0,e.jsxs)(ie.Z,{title:de.title,hoverable:!0,children:[(0,e.jsx)("img",{src:de.img,width:(document.documentElement.clientWidth-800)/4,height:(document.documentElement.clientWidth-800)/4,style:{width:(document.documentElement.clientWidth-600)/4}}),(0,e.jsx)("div",{style:{fontSize:16,fontWeight:500,paddingBottom:20},children:de.name}),(0,e.jsx)(on.Z,{color:"processing",children:de.label})]})})})}})}),(0,e.jsx)(Z.Z,{span:Q?18:0,children:(0,e.jsx)(ie.Z,{children:Q?(0,e.jsxs)("div",{style:{marginLeft:20,paddingLeft:50},children:[(0,e.jsx)("div",{style:{fontSize:22,fontWeight:500},children:G==null?void 0:G.name}),(0,e.jsx)("br",{}),"\u4EA7\u54C1\u5206\u7C7B\uFF1A",(0,e.jsx)(on.Z,{color:"processing",children:G==null?void 0:G.label}),(0,e.jsx)("br",{}),(0,e.jsx)("img",{alt:"example",src:G==null?void 0:G.img}),(0,e.jsx)("br",{}),"\u4EA7\u54C1\u63CF\u8FF0:\u2003",G==null?void 0:G.description]}):null})})]})})},Sr=xr,yr=a(11075),Zr=a(62078),En=innerWidth-300,jr=900,wr=function(z){var J=(0,p.useState)(!1),E=(0,r.Z)(J,2),s=E[0],Y=E[1],ve=(0,p.useState)("0"),G=(0,r.Z)(ve,2),me=G[0],N=G[1],We=(0,p.useState)(null),Q=(0,r.Z)(We,2),je=Q[0],se=Q[1],xe=(0,p.useState)([]),Ee=(0,r.Z)(xe,2),de=Ee[0],pe=Ee[1],De=(0,p.useState)([]),Ne=(0,r.Z)(De,2),ft=Ne[0],we=Ne[1],K=function(ee){Y(!0),se(ee.label)},te=function(){Y(!1)};(0,p.useEffect)(function(){(0,Zr.Zt)().then(function($){var ee=[],X=$.data.filter(function(w){return w.train_type==me});if(pe(X),console.log("#####resData#",X),$.data.length>0){var ce=new Map,M=X==null?void 0:X.filter(function(w){return!ce.has(w.label)&&ce.set(w.label,1)});ee=M==null?void 0:M.map(function(w,Oe){return{id:Oe,name:w==null?void 0:w.name,label:w==null?void 0:w.label,train_type:w.train_type,label_decription:w.label_decription,sheet:w.sheet,img:w.img}}),console.log("######",ee)}we(ee)})},[me]);var qe=function(ee){N(ee)},Ge=zt()("/fans/train_1.png"),A=(0,r.Z)(Ge,1),Be=A[0],et=zt()("/fans/train_2.png"),Me=(0,r.Z)(et,1),$e=Me[0],Re=zt()("/fans/train_3.png"),tt=(0,r.Z)(Re,1),Fe=tt[0],Ce=[{id:0,trainType:"0",imagePositon:[50,45],circle:[130,110],Line_points:[130,200,130,300,410,300],text:[150,210],circle_node:[410,300]},{id:1,trainType:"0",imagePositon:[420,47],circle:[500,110],Line_points:[500,200,500,270,500,270],text:[510,210],circle_node:[500,270]},{id:2,trainType:"0",imagePositon:[50,470],circle:[130,530],Line_points:[130,440,130,350,500,350],text:[150,420],circle_node:[500,350]},{id:0,trainType:"1",imagePositon:[335,35],circle:[410,100],Line_points:[410,190,410,300],text:[420,200],circle_node:[410,310]},{id:1,trainType:"1",imagePositon:[370,510],circle:[450,570],Line_points:[450,480,450,360],text:[460,460],circle_node:[450,360]},{id:2,trainType:"1",imagePositon:[617,37],circle:[700,100],Line_points:[700,190,700,380,600,380],text:[710,200],circle_node:[600,380]}],le=ft==null?void 0:ft.map(function($){var ee=Ce.filter(function(M){return M.trainType==me}),X=ee.find(function(M){return M.id===$.id});if(X!=null){var ce=Object.assign($,X);return ce}else return $});console.log("!!!",le,le.length);var Je=function(ee){var X=ee.productTypes,ce=ee.train;return(0,e.jsx)("div",{children:(0,e.jsx)(mt.Hf,{width:En,height:jr,children:(0,e.jsxs)(mt.mh,{style:{backgroundColor:"#f1f1f1"},children:[(0,e.jsx)(mt.Ee,{width:800,height:300,image:ce,x:200,y:200}),X.length>0?X.map(function(M){return(0,e.jsx)(mt.Ee,{width:160,height:120,image:zt()(M==null?void 0:M.img)[0],x:M.imagePositon[0],y:M.imagePositon[1]})}):null,X.map(function(M){return(0,e.jsx)(mt.Cd,{radius:90,fill:"rgb(0,0,0,0)",stroke:"#188fff7e",strokeWidth:2,x:M.circle[0],y:M.circle[1],onMouseEnter:function(Oe){var Pe=Oe.target.getStage().container();Pe.style.cursor="pointer"},onClick:function(){return K(M)}})}),X.map(function(M){return(0,e.jsx)(mt.x1,{points:M.Line_points,strokeWidth:2,stroke:"#1890ff",dash:[3,3]})}),X.map(function(M){return(0,e.jsx)(mt.xv,{x:M.text[0],y:M.text[1],text:M.label,fill:"#000",width:200,fontSize:14})}),X.map(function(M){return(0,e.jsx)(mt.Cd,{radius:5,fill:"#1890ff",strokeWidth:2,x:M.circle_node[0],y:M.circle_node[1]})})]})})})};return(0,e.jsx)(e.Fragment,{children:s?(0,e.jsxs)("div",{children:[(0,e.jsx)(He.Z,{onClick:te,style:{zIndex:999,position:"absolute",right:"2%",top:"3%"},children:(0,e.jsx)(yr.Z,{style:{color:"rgb(24, 144, 255)",fontSize:24}})}),(0,e.jsx)(Sr,{fanType:je,fanData:de})]}):(0,e.jsxs)("div",{children:["\u8BF7\u9009\u62E9\u8F66\u578B\uFF1A"," ",(0,e.jsx)(ut.Z,{showSearch:!0,style:{width:"15%"},placeholder:"\u9009\u62E9\u8F66\u578B",defaultValue:"0",optionFilterProp:"children",onChange:qe,filterOption:function(ee,X){var ce;return((ce=X==null?void 0:X.label)!==null&&ce!==void 0?ce:"").toLowerCase().includes(ee.toLowerCase())},options:[{value:"0",label:"\u673A\u8F66"},{value:"1",label:"\u52A8\u8F66"}]}),(0,e.jsx)("div",{style:{background:"#fff",width:En,height:"100%",marginLeft:"auto",marginRight:"auto",marginTop:"auto",marginBottom:"auto",paddingLeft:15},children:le.length>0?(0,e.jsx)(Je,{productTypes:le,train:me=="0"?Be:me=="1"?$e:Fe}):null})]})})},Fr=wr,Cr=function(z){var J,E,s,Y,ve=z.match.params.activeKey,G=ve===void 0?"0":ve;G==":activeKey"&&(G="0");var me=(0,Ue.tT)("@@initialState"),N=me.initialState,We=(N==null||(J=N.currentUser)===null||J===void 0?void 0:J.permission)==null?[]:N==null||(E=N.currentUser)===null||E===void 0?void 0:E.permission,Q=(N==null||(s=N.currentUser)===null||s===void 0?void 0:s.authList)==null?[]:N==null||(Y=N.currentUser)===null||Y===void 0?void 0:Y.authList;console.log("Fan initialState.currentUser"),console.log(N==null?void 0:N.currentUser);var je=[{key:"0",label:"\u4EA7\u54C1\u4ECB\u7ECD",children:(0,e.jsx)(Fr,{})},{key:"1",label:"\u9009\u578B",children:(0,e.jsx)(Cn,{permission:[],manage:!1})},Q.includes("/fan/2")?{key:"2",label:"\u76F8\u4F3C\u8BBE\u8BA1",children:(0,e.jsx)(pr,{})}:void 0,Q.includes("/fan/4")?{key:"4",label:"\u6570\u636E\u7BA1\u7406",children:(0,e.jsx)(Cn,{permission:[],manage:!0})}:void 0];return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{style:{position:"relative"},children:(0,e.jsx)("div",{style:{width:"100%",position:"absolute"},children:(0,e.jsx)(ie.Z,{children:(0,e.jsx)(vt.Z,{defaultActiveKey:"1",activeKey:G,onTabClick:function(xe,Ee){["0","1","2","3","4"].includes(xe)&&Ue.m8.push("/fan/"+xe)},items:je})})})})})},Pr=Cr},36663:function(lt,it,a){"use strict";a.d(it,{Sv:function(){return He}});var _=a(34792),ie=a(48086),Se=a(39428),vt=a(3182),p=a(30381),Ue=a.n(p),st=a(21010);function Ft(q){return ke.apply(this,arguments)}function ke(){return ke=(0,vt.Z)((0,Se.Z)().mark(function q(H){return(0,Se.Z)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return H=H+"?v="+Ue()(),x.abrupt("return",(0,st.WY)("/api/download/".concat(H),{method:"GET",responseType:"blob"}));case 2:case"end":return x.stop()}},q)})),ke.apply(this,arguments)}function He(q){return Ye.apply(this,arguments)}function Ye(){return Ye=(0,vt.Z)((0,Se.Z)().mark(function q(H){return(0,Se.Z)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:console.log("downloadFile path"),H.indexOf("/api/download/")==0&&(H=H.substring(14)),Ft(H).then(function(ye){var Xe=H.split("/").pop();if(window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(ye,Xe);else{var L=document.createElement("a"),St=document.createEvent("MouseEvents");L.style.display="none",L.href=window.URL.createObjectURL(ye),L.download=Xe,document.body.appendChild(L),St.initEvent("click",!1,!1),L.dispatchEvent(St),document.body.removeChild(L)}}).catch(function(){ie.default.error("\u4E0B\u8F7D\u51FA\u9519!")});case 3:case"end":return x.stop()}},q)})),Ye.apply(this,arguments)}function xt(){return Qe.apply(this,arguments)}function Qe(){return Qe=_asyncToGenerator(_regeneratorRuntime().mark(function q(){var H,ge,x=arguments;return _regeneratorRuntime().wrap(function(Xe){for(;;)switch(Xe.prev=Xe.next){case 0:return H=x.length>0&&x[0]!==void 0?x[0]:{},ge=request("/api/download",{method:"POST",data:H,responseType:"blob"}),console.log(ge),Xe.abrupt("return",ge);case 4:case"end":return Xe.stop()}},q)})),Qe.apply(this,arguments)}},62078:function(lt,it,a){"use strict";a.d(it,{Zt:function(){return vt},Qv:function(){return Ft},xx:function(){return He},T6:function(){return xt}});var _=a(39428),ie=a(3182),Se=a(21010);function vt(){return p.apply(this,arguments)}function p(){return p=(0,ie.Z)((0,_.Z)().mark(function q(){return(0,_.Z)().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return ge.abrupt("return",(0,Se.WY)("/api/fan_introduction/query_all",{method:"GET"}));case 1:case"end":return ge.stop()}},q)})),p.apply(this,arguments)}function Ue(q){return st.apply(this,arguments)}function st(){return st=_asyncToGenerator(_regeneratorRuntime().mark(function q(H){return _regeneratorRuntime().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",request("/api/fan_introduction/query_by",{method:"POST",data:H}));case 1:case"end":return x.stop()}},q)})),st.apply(this,arguments)}function Ft(q){return ke.apply(this,arguments)}function ke(){return ke=(0,ie.Z)((0,_.Z)().mark(function q(H){return(0,_.Z)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",(0,Se.WY)("/api/fan_introduction/add",{method:"POST",data:H}));case 1:case"end":return x.stop()}},q)})),ke.apply(this,arguments)}function He(q){return Ye.apply(this,arguments)}function Ye(){return Ye=(0,ie.Z)((0,_.Z)().mark(function q(H){return(0,_.Z)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",(0,Se.WY)("/api/fan_introduction/delete",{method:"POST",data:H}));case 1:case"end":return x.stop()}},q)})),Ye.apply(this,arguments)}function xt(q){return Qe.apply(this,arguments)}function Qe(){return Qe=(0,ie.Z)((0,_.Z)().mark(function q(H){return(0,_.Z)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",(0,Se.WY)("/api/fan_introduction/update",{method:"PUT",data:H}));case 1:case"end":return x.stop()}},q)})),Qe.apply(this,arguments)}}}]);

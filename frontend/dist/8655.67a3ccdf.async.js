(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8655],{83113:function(N){N.exports={container:"container___1z0LQ",card:"card___2N_qO",title:"title___2WoAu",inputNum:"inputNum___1xCS3",centerButton:"centerButton___1rZM-",flieContent:"flieContent___CBLNl",filePdf:"filePdf___32V0o",filePdfFooter:"filePdfFooter___6TBca",filePdfPage:"filePdfPage___2IQd6",view:"view___1iIu5"}},41030:function(N,U,a){"use strict";var u=a(57663),p=a(71577),m=a(13062),B=a(71230),W=a(66126),b=a(99177),R=a(89032),M=a(15746),i=a(2824),g=a(67294),C=a(83113),_=a.n(C),x=a(5058),A=a.n(x),E=a(24358),t=a(85893),y=function(c){var n=c.url,r=c.filename,l=c.report,e=l===void 0?!1:l,z=c.visible,w=(0,g.useState)(1),j=(0,i.Z)(w,2),d=j[0],P=j[1],L;r!=null?L=r.split(".").pop():L=n.split(".").pop();var T=(0,g.useState)({open:!1,file:{name:""}}),v=(0,i.Z)(T,2),H=v[0],G=v[1],D=(0,g.useState)(!1),f=(0,i.Z)(D,2),Y=f[0],O=f[1],S=(0,g.useState)({page:1,pages:1}),F=(0,i.Z)(S,2),o=F[0],Z=F[1],K=function(s){Z({page:1,pages:s})},V=function(s){Z({page:s.page-1,pages:s.pages})},J=function(s){Z({page:s.page+1,pages:s.pages})};function k(h){for(var s=[],$=2;$<=o.pages;$++)s.push((0,t.jsx)(E.Z,{page:$,file:n,scale:d},"x".concat($)));return s}var Q=function(s){console.log(s),Z({page:1,pages:numPages})};return(0,t.jsx)(t.Fragment,{children:L=="pdf"?(0,t.jsx)("div",{children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:e?null:_().filePdf,children:(0,t.jsxs)("div",{className:e?null:_().view,children:[(0,t.jsxs)("div",{id:"pdfView",children:[z?(0,t.jsxs)(B.Z,{children:[(0,t.jsx)(M.Z,{span:"flex",children:"\u7F29\u653E\u8C03\u6574\uFF1A"}),(0,t.jsx)(M.Z,{span:10,children:(0,t.jsx)(b.Z,{value:d,min:.5,step:.01,max:2,onAfterChange:function(s){P(s)}})}),(0,t.jsxs)(M.Z,{span:3,children:[d,"\u500D"]})]}):null,(0,t.jsx)(E.Z,{scale:d,file:n,onDocumentComplete:function(s){K(s)},page:o.page})]}),e&&o.pages?o.pages>1&&k(o.pages):null]})}),(0,t.jsxs)("div",{className:_().filePdfFooter,children:[e||o.page===1?null:(0,t.jsx)(p.Z,{size:"small",type:"primary",onClick:function(){V(o)},children:"\u4E0A\u4E00\u9875"}),e?null:(0,t.jsxs)("div",{className:_().filePdfPage,children:[(0,t.jsxs)("span",{children:["\u7B2C",o.page,"\u9875"]}),"/",(0,t.jsxs)("span",{children:["\u5171",o.pages,"\u9875"]})]}),e||o.page===o.pages?null:(0,t.jsx)(p.Z,{size:"small",style:{marginLeft:"10px"},type:"primary",onClick:function(){J(o)},children:"\u4E0B\u4E00\u9875"})]})]})}):(0,t.jsx)("div",{children:L=="doc"?(0,t.jsx)("label",{children:"\u6682\u4E0D\u652F\u6301doc\u6587\u4EF6\u683C\u5F0F\u9884\u89C8"}):(0,t.jsx)(A(),{fileType:L,filePath:n,onError:function(){console.log("error in file-viewer")},errorComponent:(0,t.jsx)("label",{children:"\u51FA\u73B0\u9519\u8BEF"}),unsupportedComponent:function(s){return n==""?(0,t.jsx)("label",{children:"\u6682\u65E0"}):s=="doc"?(0,t.jsx)("label",{children:"\u6682\u4E0D\u652F\u6301doc\u6587\u4EF6\u683C\u5F0F\u9884\u89C8"}):s=="dwg"?(0,t.jsx)("label",{children:"\u6682\u4E0D\u652F\u6301dwg\u6587\u4EF6\u683C\u5F0F\u9884\u89C8"}):(0,t.jsx)("label",{})}})})})};U.Z=y},43467:function(N,U,a){"use strict";a.d(U,{p:function(){return b}});var u=a(39428),p=a(3182),m=a(61120),B=a.n(m),W=a(1168),b=function(){var R=(0,p.Z)((0,u.Z)().mark(function M(i,g,C){var _,x,A,E,t,y,I,c,n,r,l,e;return(0,u.Z)().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return _=new W.ZP("p","pt","a4"),x=document.getElementById(i),A=i.offsetWidth,E=i.offsetWidth,t=i.offsetTop,y=i.offsetLeft,I=document.createElement("canvas"),c=0,n=document.body.clientWidth,r=window.innerWidth,r>n&&(c=(r-n)/2),I.width=A*2,I.height=E*2,l=I.getContext("2d"),l.scale(2,2),l.translate(-y-c,-t),w.next=18,B()(i,{allowTaint:!0,scale:2,useCORS:!0}).then(function(j){var d=j.height,P=594.28,L=841.89,T=Math.floor(j.width/P*L),v=0,H=j.toDataURL("image/jpeg",1),G=1,D=document.createElement("canvas"),f;_.setDisplayMode("fullwidth","continuous","FullScreen");function Y(O){if(console.log(d,T),d>0){G+=1;var S=0;if(d>T){var F;for(F=v+T;F>=v;F-=1){for(var o=!0,Z=0;Z<O.width;Z+=1){var K=O.getContext("2d").getImageData(Z,F,1,1).data;if(K[0]!==255||K[1]!==255||K[2]!==255){o=!1;break}}if(o){if(S+=1,S>=10)break}else S=0}f=Math.round(F-v)||Math.min(d,T),f<=0&&(f=T)}else f=d;D.width=O.width,D.height=f;var V=D.getContext("2d");V.drawImage(O,0,v,O.width,f,0,0,O.width,f),v!==0&&_.addPage(),G===2?_.addImage(D.toDataURL("image/jpeg",1),"JPEG",0,0,P,P/D.width*f):_.addImage(D.toDataURL("image/jpeg",1),"JPEG",0,16,P,P/D.width*f),d-=f,v+=f,d>0&&Y(O)}}if(d<T)_.addImage(H,"JPEG",0,0,P,P/j.width*d);else try{_.deletePage(0),Y(j)}catch(O){}});case 18:return e=w.sent,C&&_.addPage(),w.next=22,_.save("".concat(g,".pdf"));case 22:case"end":return w.stop()}},M)}));return function(i,g,C){return R.apply(this,arguments)}}()},32228:function(N,U,a){"use strict";a.d(U,{ai:function(){return B},vC:function(){return b},MU:function(){return M},LU:function(){return g},qX:function(){return _},A3:function(){return A},Wi:function(){return t}});var u=a(39428),p=a(3182),m=a(21010);function B(){return W.apply(this,arguments)}function W(){return W=(0,p.Z)((0,u.Z)().mark(function n(){return(0,u.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,m.WY)("/api/fan/tree",{method:"GET"}));case 1:case"end":return l.stop()}},n)})),W.apply(this,arguments)}function b(n){return R.apply(this,arguments)}function R(){return R=(0,p.Z)((0,u.Z)().mark(function n(r){return(0,u.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.WY)("/api/fan/similar/show",{method:"POST",data:r}));case 1:case"end":return e.stop()}},n)})),R.apply(this,arguments)}function M(n){return i.apply(this,arguments)}function i(){return i=(0,p.Z)((0,u.Z)().mark(function n(r){return(0,u.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.WY)("/api/fan/show",{method:"POST",data:r}));case 1:case"end":return e.stop()}},n)})),i.apply(this,arguments)}function g(n){return C.apply(this,arguments)}function C(){return C=(0,p.Z)((0,u.Z)().mark(function n(r){return(0,u.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.WY)("/api/fan/detail",{method:"POST",params:{model:r}}));case 1:case"end":return e.stop()}},n)})),C.apply(this,arguments)}function _(n){return x.apply(this,arguments)}function x(){return x=(0,p.Z)((0,u.Z)().mark(function n(r){return(0,u.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.WY)("/api/perf/show/list",{method:"POST",data:r}));case 1:case"end":return e.stop()}},n)})),x.apply(this,arguments)}function A(n){return E.apply(this,arguments)}function E(){return E=(0,p.Z)((0,u.Z)().mark(function n(r){return(0,u.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.WY)("/api/perf/detail",{method:"POST",params:{model:r}}));case 1:case"end":return e.stop()}},n)})),E.apply(this,arguments)}function t(n){return y.apply(this,arguments)}function y(){return y=(0,p.Z)((0,u.Z)().mark(function n(r){return(0,u.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.WY)("/api/perf/show",{method:"POST",params:{model:r}}));case 1:case"end":return e.stop()}},n)})),y.apply(this,arguments)}function I(n){return c.apply(this,arguments)}function c(){return c=_asyncToGenerator(_regeneratorRuntime().mark(function n(r){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/imip/methods/delete",{method:"POST",data:r}));case 1:case"end":return e.stop()}},n)})),c.apply(this,arguments)}}}]);
